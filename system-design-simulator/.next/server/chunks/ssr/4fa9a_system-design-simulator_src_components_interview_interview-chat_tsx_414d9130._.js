module.exports=[92045,a=>{"use strict";var b=a.i(77658),c=a.i(23105),d=a.i(3799),e=a.i(59565),f=a.i(6681),g=a.i(999),h=a.i(31494),i=a.i(87870),j=a.i(43778),k=a.i(89997),l=a.i(29135),l=l,m=a.i(83167),n=a.i(55790);let o=(0,n.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var p=a.i(76433);let q=(0,n.default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),r=(0,n.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),s=(0,n.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),t=(0,n.default)("scale",[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]]),u=(0,n.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),v=(0,n.default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var w=a.i(45983),w=w;let x=[{key:"requirementsClarification",label:"Requirements Clarification",weight:"10%",icon:r,phase:"Requirements Clarification"},{key:"highLevelDesign",label:"High-Level Design",weight:"20%",icon:s,phase:"High-Level Design"},{key:"detailedDesign",label:"Detailed Design",weight:"15%",icon:p.Target,phase:"Deep Dive"},{key:"scalability",label:"Scalability",weight:"20%",icon:o,phase:"Scalability & Trade-offs"},{key:"tradeoffs",label:"Tradeoffs Analysis",weight:"25%",icon:t,phase:"Scalability & Trade-offs"},{key:"communication",label:"Communication",weight:"10%",icon:q,phase:"all"}],y=a=>a>=3.5?"text-emerald-500":a>=2.5?"text-amber-500":a>=2?"text-orange-500":"text-red-500",z=a=>a>=3.5?"bg-emerald-500/10":a>=2.5?"bg-amber-500/10":a>=2?"bg-orange-500/10":"bg-red-500/10";function A({value:a,max:c=4}){let d=a/c*100,e=2*Math.PI*70;return(0,b.jsxs)("div",{className:"relative inline-flex items-center justify-center",children:[(0,b.jsxs)("svg",{className:"transform -rotate-90 w-44 h-44",children:[(0,b.jsx)("circle",{cx:"88",cy:"88",r:70,stroke:"currentColor",strokeWidth:8,fill:"none",className:"text-muted/20"}),(0,b.jsx)("circle",{cx:"88",cy:"88",r:70,stroke:"url(#scoreGradient)",strokeWidth:8,fill:"none",strokeLinecap:"round",style:{strokeDasharray:e,strokeDashoffset:e-d/100*e,transition:"stroke-dashoffset 1s ease-in-out"}}),(0,b.jsx)("defs",{children:(0,b.jsxs)("linearGradient",{id:"scoreGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,b.jsx)("stop",{offset:"0%",stopColor:a>=2.5?"#10b981":"#f59e0b"}),(0,b.jsx)("stop",{offset:"100%",stopColor:a>=3.5?"#06b6d4":a>=2.5?"#10b981":"#ef4444"})]})})]}),(0,b.jsxs)("div",{className:"absolute flex flex-col items-center justify-center",children:[(0,b.jsx)("span",{className:`text-4xl font-bold ${y(a)}`,children:a.toFixed(1)}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"out of 4.0"})]})]})}function B({score:a,completedPhases:c=[]}){var d,e;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(j.Card,{className:"overflow-hidden border-0 shadow-lg",children:(0,b.jsxs)("div",{className:`relative ${a.passStatus?"bg-gradient-to-br from-emerald-500/5 via-cyan-500/5 to-blue-500/5":"bg-gradient-to-br from-orange-500/5 via-red-500/5 to-pink-500/5"}`,children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-grid-white/5"}),(0,b.jsx)(j.CardContent,{className:"py-6",children:(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)(A,{value:a.overallScore}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(h.Badge,{variant:a.passStatus?"default":"destructive",className:`px-4 py-1.5 text-sm font-semibold ${a.passStatus?"bg-emerald-500/90 hover:bg-emerald-500":"bg-red-500/90 hover:bg-red-500"}`,children:[a.passStatus?(0,b.jsx)(l.default,{className:"w-4 h-4 mr-1.5"}):(0,b.jsx)(m.XCircle,{className:"w-4 h-4 mr-1.5"}),a.passStatus?"PASSED":"NEEDS IMPROVEMENT"]}),(0,b.jsx)("h3",{className:`text-xl font-semibold ${y(a.overallScore)}`,children:(d=a.overallScore)>=3.5?"Strong Hire":d>=2.5?"Hire":d>=2?"Lean No Hire":"No Hire"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground max-w-md",children:(e=a.overallScore)>=3.5?"Exceptional performance across all dimensions":e>=2.5?"Solid performance with room for growth":e>=2?"Some gaps that need addressing":"Significant areas need improvement"})]})]})})})]})}),(0,b.jsxs)(j.Card,{className:"border-2 border-primary/30 shadow-lg bg-gradient-to-br from-primary/5 to-violet-500/5",children:[(0,b.jsx)(j.CardHeader,{className:"pb-4 border-b border-primary/10",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-primary/20 ring-2 ring-primary/30",children:(0,b.jsx)(s,{className:"w-5 h-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.CardTitle,{className:"text-lg text-primary",children:"Detailed Analysis"}),(0,b.jsx)(j.CardDescription,{children:"In-depth feedback for each evaluation dimension"})]})]})}),(0,b.jsx)(j.CardContent,{className:"pt-4",children:(0,b.jsx)("div",{className:"space-y-4",children:x.map((d,e)=>{var f;let g=a[d.key],i=d.icon,j="all"===(f=d.phase)||c.includes(f);return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:`flex items-start gap-4 p-4 rounded-xl border transition-colors ${j?"bg-background/80 border-border/50 hover:border-primary/30":"bg-muted/30 border-muted/50 opacity-60"}`,children:[(0,b.jsx)("div",{className:`p-2.5 rounded-lg shrink-0 ${z(g)} ring-1 ring-inset ${g>=2.5?"ring-emerald-500/20":"ring-red-500/20"}`,children:(0,b.jsx)(i,{className:`w-5 h-5 ${y(g)}`})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold",children:d.label}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Weight: ",d.weight]})]}),!j&&(0,b.jsx)(h.Badge,{variant:"outline",className:"text-xs bg-muted/50 text-muted-foreground border-muted-foreground/30",children:"Not Reached"})]}),(0,b.jsxs)(h.Badge,{variant:"outline",className:`${y(g)} border-current`,children:[g.toFixed(1),"/4.0"]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:a.feedback[d.key]})]})]}),e<x.length-1&&(0,b.jsx)(k.Separator,{className:"my-4 bg-primary/10"})]},d.key)})})})]}),(0,b.jsxs)(j.Card,{className:"border shadow-sm",children:[(0,b.jsx)(j.CardHeader,{className:"pb-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,b.jsx)(p.Target,{className:"w-5 h-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.CardTitle,{className:"text-lg",children:"Score Breakdown"}),(0,b.jsx)(j.CardDescription,{children:"Evaluated against FAANG interview standards"})]})]})}),(0,b.jsx)(j.CardContent,{children:(0,b.jsx)("div",{className:"grid gap-3 grid-cols-2 lg:grid-cols-3",children:x.map(c=>{let d=a[c.key],e=c.icon;return(0,b.jsxs)("div",{className:`p-3 rounded-xl border transition-all hover:shadow-md ${z(d)}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e,{className:`w-4 h-4 ${y(d)}`}),(0,b.jsx)("span",{className:"font-medium text-xs truncate",children:c.label})]}),(0,b.jsx)("div",{className:`text-sm font-bold ${y(d)}`,children:d.toFixed(1)})]}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("div",{className:"h-1.5 w-full bg-muted/30 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full rounded-full transition-all duration-700 ${d>=3.5?"bg-emerald-500":d>=2.5?"bg-amber-500":d>=2?"bg-orange-500":"bg-red-500"}`,style:{width:`${d/4*100}%`}})})})]},c.key)})})})]}),(0,b.jsxs)("div",{className:"grid gap-4 grid-cols-2",children:[(0,b.jsxs)(j.Card,{className:"border shadow-sm border-emerald-500/20",children:[(0,b.jsx)(j.CardHeader,{className:"pb-2 pt-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-1.5 rounded-lg bg-emerald-500/10",children:(0,b.jsx)(v,{className:"w-4 h-4 text-emerald-500"})}),(0,b.jsx)(j.CardTitle,{className:"text-base text-emerald-600 dark:text-emerald-400",children:"Strengths"})]})}),(0,b.jsx)(j.CardContent,{className:"pt-2",children:(0,b.jsx)("ul",{className:"space-y-2",children:a.feedback.strengths.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 p-2 rounded-lg bg-emerald-500/5 border border-emerald-500/10",children:[(0,b.jsx)(l.default,{className:"w-4 h-4 text-emerald-500 mt-0.5 shrink-0"}),(0,b.jsx)("span",{className:"text-xs leading-relaxed",children:a})]},c))})})]}),(0,b.jsxs)(j.Card,{className:"border shadow-sm border-amber-500/20",children:[(0,b.jsx)(j.CardHeader,{className:"pb-2 pt-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-1.5 rounded-lg bg-amber-500/10",children:(0,b.jsx)(w.default,{className:"w-4 h-4 text-amber-500"})}),(0,b.jsx)(j.CardTitle,{className:"text-base text-amber-600 dark:text-amber-400",children:"Areas to Improve"})]})}),(0,b.jsx)(j.CardContent,{className:"pt-2",children:(0,b.jsx)("ul",{className:"space-y-2",children:a.feedback.improvements.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 p-2 rounded-lg bg-amber-500/5 border border-amber-500/10",children:[(0,b.jsx)(u,{className:"w-4 h-4 text-amber-500 mt-0.5 shrink-0"}),(0,b.jsx)("span",{className:"text-xs leading-relaxed",children:a})]},c))})})]})]}),(0,b.jsxs)(j.Card,{className:"border shadow-sm",children:[(0,b.jsx)(j.CardHeader,{className:"pb-2 pt-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"p-1.5 rounded-lg bg-blue-500/10",children:(0,b.jsx)(r,{className:"w-4 h-4 text-blue-500"})}),(0,b.jsx)(j.CardTitle,{className:"text-base",children:"Overall Assessment"})]})}),(0,b.jsx)(j.CardContent,{className:"pt-2",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:a.feedback.overallFeedback})})]})]})}var C=a.i(19802);let D=[{id:"requirements",name:"Requirements",duration:8,startTime:45,endTime:37,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-500",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01",tips:["Ask about scale (DAU, QPS)","Clarify functional requirements","Identify non-functional needs"]},{id:"high-level",name:"High-Level Design",duration:12,startTime:37,endTime:25,color:"from-green-500 to-emerald-600",bgColor:"bg-green-500",icon:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",tips:["Draw core components","Define APIs","Explain data flow"]},{id:"deep-dive",name:"Deep Dive",duration:12,startTime:25,endTime:13,color:"from-purple-500 to-violet-600",bgColor:"bg-purple-500",icon:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4",tips:["Data models & schemas","Algorithms & protocols","Handle failure scenarios"]},{id:"scalability",name:"Scalability",duration:10,startTime:13,endTime:3,color:"from-orange-500 to-amber-600",bgColor:"bg-orange-500",icon:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6",tips:["10x-100x growth","Caching strategies","Trade-offs & CAP theorem"]},{id:"wrapup",name:"Wrap-up",duration:3,startTime:3,endTime:0,color:"from-gray-500 to-slate-600",bgColor:"bg-gray-500",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",tips:["Summarize design","Address concerns","Ask questions"]}];function E({interview:a,initialMessages:j,completedPhases:k=[],score:l}){let m,n,o=(0,d.useRouter)(),[p,q]=(0,c.useState)(j),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(l),E=(0,c.useRef)(null),F=(0,c.useRef)(p),G=(0,c.useRef)(!1);(0,c.useEffect)(()=>{F.current=p},[p]);let H=(()=>{if(a.startedAt&&"completed"!==a.status){let b=new Date(a.startedAt).getTime(),c=2700-Math.floor((Date.now()-b)/1e3);return c>0?c:0}return 2700})(),[I,J]=(0,c.useState)(H),[K,L]=(0,c.useState)(()=>{let a=Math.floor(H/60),b=D.findIndex(b=>a<b.startTime&&a>=b.endTime);return -1!==b?b:0}),[M,N]=(0,c.useState)([]),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(0),[S,T]=(0,c.useState)(null),[U,V]=(0,c.useState)(!0),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(""),[$,_]=(0,c.useState)("voice"),[aa,ab]=(0,c.useState)(!1),ac=(0,c.useRef)(null),ad="completed"===a.status||null!==z,ae=D[K];(0,c.useEffect)(()=>{},[]),(0,c.useEffect)(()=>{},[aa,W]),(0,c.useEffect)(()=>{if(ad)return;let a=setInterval(()=>{J(b=>{if(b<=0)return clearInterval(a),0;let c=b-1,d=Math.floor(c/60);30===d&&c%60==0?(T("30 minutes remaining"),setTimeout(()=>T(null),3e3)):15===d&&c%60==0?(T("15 minutes - Move to scalability!"),setTimeout(()=>T(null),4e3)):5===d&&c%60==0?(T("5 minutes - Start wrapping up!"),setTimeout(()=>T(null),4e3)):1===d&&c%60==0&&(T("1 minute remaining!"),setTimeout(()=>T(null),3e3));let e=D.findIndex(a=>d<a.startTime&&d>=a.endTime);return -1===e||e===K||G.current||(G.current=!0,ah(e).finally(()=>{G.current=!1})),c})},1e3);return()=>clearInterval(a)},[ad,K]),(0,c.useEffect)(()=>{!(I<=0)||ad||v||(C.toast.info("Time's up! Submitting interview..."),ak())},[I,ad,v]);let af=(0,c.useCallback)(()=>{E.current&&(E.current.scrollTop=E.current.scrollHeight)},[]);(0,c.useEffect)(()=>{let a=setTimeout(af,50);return()=>clearTimeout(a)},[p,af]),(0,c.useEffect)(()=>{if(t){let a=setInterval(af,100);return()=>clearInterval(a)}},[t,af]);let ag=a=>{let b=Math.floor(a/60);return`${b.toString().padStart(2,"0")}:${(a%60).toString().padStart(2,"0")}`},ah=async b=>{let c=F.current;if(c.length>Q+1){P(!0);let b=c.slice(Q);try{let c=await fetch(`/api/interview/${a.id}/analyze-phase`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phaseId:ae.id,phaseMessages:b.map(a=>({role:a.role,content:a.content}))})});if(c.ok){let a=await c.json();N(b=>[...b,a.analysis]),C.toast.success(`${ae.name} phase analyzed`)}}catch(a){console.error("Phase analysis error:",a)}finally{P(!1)}}L(b),R(c.length),C.toast.info(`Moving to ${D[b].name} phase`),u(!0);try{let c=await fetch(`/api/interview/${a.id}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phaseContext:D[b].name})});if(!c.ok)throw Error("Failed to get phase transition message");let d=c.body?.getReader();if(!d)throw Error("No reader available");let e={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date().toISOString()};q(a=>[...a,e]);let f=new TextDecoder,g="";for(;;){let{done:a,value:b}=await d.read();if(a)break;for(let a of f.decode(b).split("\n"))if(a.startsWith("data: "))try{let b=JSON.parse(a.slice(6));b.content&&(g+=b.content,q(a=>{let b=[...a],c=b[b.length-1];return"assistant"===c.role&&(c.content=g),b}))}catch{}}}catch(a){console.error("Failed to generate phase transition:",a)}finally{u(!1)}},ai=(0,c.useCallback)(()=>{if(ac.current)if(W)ac.current.stop(),X(!1);else try{ac.current.start(),X(!0)}catch(a){console.error("Failed to start recognition:",a),C.toast.error("Failed to start voice recognition")}},[W]),aj=async b=>{b?.preventDefault();let c=r.trim();if(!c||t||ad||I<=0)return;W&&ac.current&&(ac.current.stop(),X(!1));let d={id:Date.now().toString(),role:"user",content:c,timestamp:new Date().toISOString()};q(a=>[...a,d]),s(""),Z(""),u(!0);try{let b=await fetch(`/api/interview/${a.id}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:d.content,currentPhase:ae.id})});if(!b.ok)throw Error("Failed to send message");let c=b.body?.getReader();if(!c)throw Error("No reader available");let e={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date().toISOString()};q(a=>[...a,e]);let f=new TextDecoder,g="";for(;;){let{done:a,value:b}=await c.read();if(a)break;for(let a of f.decode(b).split("\n"))if(a.startsWith("data: "))try{let b=JSON.parse(a.slice(6));b.content&&(g+=b.content,q(a=>{let b=[...a],c=b[b.length-1];return"assistant"===c.role&&(c.content=g),b}))}catch{}}let h=g.match(/\[PHASE_TRANSITION:\s*(\w+-?\w*)\]/);if(h){let a=h[1],b=D.findIndex(b=>b.id===a);-1!==b&&b>K&&setTimeout(()=>ah(b),1e3),q(a=>{let b=[...a],c=b[b.length-1];return"assistant"===c.role&&(c.content=c.content.replace(/\[PHASE_TRANSITION:\s*\w+-?\w*\]/g,"").trim()),b})}}catch{C.toast.error("Failed to send message. Please try again."),q(a=>a.slice(0,-1))}finally{u(!1)}},ak=async()=>{w(!0);try{let b=await fetch(`/api/interview/${a.id}/end`,{method:"POST"});if(!b.ok)throw Error("Failed to end interview");let c=await b.json();A(c.score),y(!1),C.toast.success("Interview completed!"),o.refresh()}catch{C.toast.error("Failed to end interview.")}finally{w(!1)}},al=2*Math.PI*40,am=I/2700*al;return(0,b.jsxs)("div",{className:"h-screen flex flex-col bg-gradient-to-br from-background via-background to-primary/5",children:[(0,b.jsxs)("header",{className:"border-b border-border/50 backdrop-blur-sm bg-background/80 px-6 py-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(e.default,{href:"/dashboard",children:(0,b.jsxs)(f.Button,{variant:"ghost",size:"sm",className:"gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Exit"]})}),(0,b.jsx)("div",{className:"h-8 w-px bg-border"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"font-semibold text-lg",children:a.topic}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Badge,{variant:"outline",className:"text-xs",children:a.difficulty}),!ad&&(0,b.jsx)(h.Badge,{className:`${ae.bgColor} text-white text-xs`,children:ae.name})]})]})]}),!ad&&(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"relative flex items-center justify-center",children:[(0,b.jsxs)("svg",{className:"w-20 h-20 -rotate-90",children:[(0,b.jsx)("circle",{cx:"40",cy:"40",r:"36",fill:"none",stroke:"currentColor",strokeWidth:"4",className:"text-muted/20"}),(0,b.jsx)("circle",{cx:"40",cy:"40",r:"36",fill:"none",strokeWidth:"4",strokeDasharray:al,strokeDashoffset:al-am,strokeLinecap:"round",className:`${(m=I/60)<=5?"stroke-red-500":m<=15?"stroke-yellow-500":"stroke-primary"} transition-all duration-1000`})]}),(0,b.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:(0,b.jsx)("span",{className:`font-mono text-xl font-bold ${(n=I/60)<=5?"text-red-400":n<=15?"text-yellow-400":"text-primary"}`,children:ag(I)})})]}),(0,b.jsxs)(f.Button,{variant:"destructive",onClick:()=>y(!0),className:"gap-2",children:[(0,b.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}),"End Interview"]})]})]}),!ad&&(0,b.jsx)("div",{className:"mt-4 flex gap-2",children:D.map((a,c)=>(0,b.jsxs)("div",{className:`flex-1 relative overflow-hidden rounded-lg transition-all duration-300 ${c===K?`bg-gradient-to-r ${a.color} shadow-lg shadow-primary/20`:c<K?"bg-muted/50":"bg-muted/20"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2",children:[(0,b.jsx)("svg",{className:`w-4 h-4 flex-shrink-0 ${c===K?"text-white":"text-muted-foreground"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a.icon})}),(0,b.jsx)("span",{className:`text-xs font-medium truncate ${c===K?"text-white":"text-muted-foreground"} ${c<K?"line-through":""}`,children:a.name}),c<K&&(0,b.jsx)("svg",{className:"w-4 h-4 text-green-500 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]}),c===K&&(0,b.jsx)("div",{className:"absolute bottom-0 left-0 h-1 bg-white/30",style:{width:`${(60*ae.startTime-I)/(60*ae.duration)*100}%`,transition:"width 1s linear"}})]},a.id))})]}),S&&(0,b.jsx)("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-50 animate-bounce",children:(0,b.jsxs)("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{className:"font-medium",children:S})]})}),(0,b.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,b.jsxs)("div",{className:`flex flex-col min-h-0 ${ad&&z?"w-2/5 border-r border-border/50":"flex-1"}`,children:[ad&&z&&(0,b.jsx)("div",{className:"px-6 py-3 border-b border-border/50 bg-muted/30",children:(0,b.jsxs)("h2",{className:"font-semibold text-sm text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),"Interview Transcript"]})}),(0,b.jsx)("div",{ref:E,className:"flex-1 min-h-0 overflow-y-auto p-6",children:(0,b.jsxs)("div",{className:`space-y-4 ${ad&&z?"max-w-none":"max-w-3xl mx-auto"}`,children:[p.map((a,c)=>(0,b.jsxs)("div",{className:`flex gap-3 animate-in fade-in-0 slide-in-from-bottom-2 ${"user"===a.role?"flex-row-reverse":""}`,style:{animationDelay:`${50*c}ms`},children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,b.jsx)("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${"user"===a.role?"bg-primary text-primary-foreground":"bg-gradient-to-br from-violet-500 to-purple-600 text-white"}`,children:"user"===a.role?(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}):(0,b.jsx)("span",{className:"text-sm font-bold",children:"B"})}),(0,b.jsx)("span",{className:`text-xs font-medium ${"user"===a.role?"text-muted-foreground":"text-violet-400"}`,children:"user"===a.role?"You":"Bobby"})]}),(0,b.jsxs)("div",{className:`flex-1 max-w-[80%] ${"user"===a.role?"flex flex-col items-end":""}`,children:[(0,b.jsx)("div",{className:`rounded-2xl px-4 py-3 ${"user"===a.role?"bg-primary text-primary-foreground rounded-tr-sm":"bg-card border border-border rounded-tl-sm"}`,children:(0,b.jsx)("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:a.content})}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground mt-1 px-2",suppressHydrationWarning:!0,children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},a.id)),t&&(0,b.jsxs)("div",{className:"flex gap-3 animate-in fade-in-0",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-sm font-bold text-white",children:"B"})}),(0,b.jsx)("span",{className:"text-xs font-medium text-violet-400",children:"Bobby"})]}),(0,b.jsx)("div",{className:"bg-card border border-border rounded-2xl rounded-tl-sm px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"flex gap-1.5",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),(0,b.jsx)("span",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,b.jsx)("span",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Bobby is typing..."})]})})]}),(0,b.jsx)("div",{className:"h-4"})]})}),!ad&&(0,b.jsx)("div",{className:"border-t border-border/50 bg-background/80 backdrop-blur-sm p-4",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto",children:[W&&Y&&(0,b.jsxs)("div",{className:"mb-3 p-3 bg-primary/5 border border-primary/20 rounded-xl animate-pulse",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("div",{className:"flex gap-0.5",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"w-1 bg-primary rounded-full animate-pulse",style:{height:`${16*Math.random()+8}px`,animationDelay:`${.1*c}s`}},c))}),(0,b.jsx)("span",{className:"text-xs text-primary font-medium",children:"Listening..."})]}),(0,b.jsx)("p",{className:"text-foreground",children:Y})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"flex items-center gap-3",children:aa&&(0,b.jsxs)("div",{className:"flex items-center bg-muted rounded-full p-1",children:[(0,b.jsxs)("button",{onClick:()=>{_("voice"),W||ai()},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-all ${"voice"===$?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),"Voice"]}),(0,b.jsxs)("button",{onClick:()=>{_("keyboard"),W&&ac.current&&(ac.current.stop(),X(!1))},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-all ${"keyboard"===$?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Type"]})]})}),(0,b.jsxs)("button",{onClick:()=>V(!U),className:"flex items-center gap-1.5 text-xs text-muted-foreground hover:text-foreground transition-colors",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),U?"Hide tips":"Show tips"]})]}),U&&!ad&&(0,b.jsxs)("div",{className:"mb-3 p-3 bg-muted/50 rounded-xl border border-border/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${ae.bgColor}`}),(0,b.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Focus on:"})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:ae.tips.map((a,c)=>(0,b.jsx)("span",{className:"text-xs bg-background px-2 py-1 rounded-md border border-border/50",children:a},c))})]}),(0,b.jsx)("form",{onSubmit:aj,children:(0,b.jsxs)("div",{className:"flex gap-3 items-end",children:[aa&&(0,b.jsx)("button",{type:"button",onClick:ai,disabled:t,className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center transition-all shadow-lg ${W?"bg-red-500 hover:bg-red-600 text-white scale-110":"bg-primary hover:bg-primary/90 text-primary-foreground"} disabled:opacity-50 disabled:scale-100`,children:W?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}),(0,b.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-white rounded-full animate-ping"})]}):(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),(0,b.jsx)("div",{className:"flex-1 relative",children:(0,b.jsx)(g.Textarea,{value:r,onChange:a=>s(a.target.value),placeholder:"voice"===$?"Speak or type your response...":"Type your response...",className:"resize-none rounded-xl pr-4 min-h-[48px] max-h-32 bg-muted/50 border-border/50 focus:border-primary/50",rows:1,onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),aj(a))},disabled:t})}),(0,b.jsx)(f.Button,{type:"submit",disabled:t||!r.trim(),size:"icon",className:"flex-shrink-0 w-12 h-12 rounded-full shadow-lg",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})})]}),M.length>0&&!ad&&(0,b.jsx)("div",{className:"w-80 border-l border-border/50 bg-background/50 backdrop-blur-sm overflow-auto p-4",children:(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Live Scores"]}),(0,b.jsx)("div",{className:"space-y-3",children:M.map((a,c)=>(0,b.jsxs)("div",{className:"p-3 bg-card rounded-xl border border-border/50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium capitalize",children:a.phase.replace("-"," ")}),(0,b.jsxs)("div",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${a.score>=3?"bg-green-500/20 text-green-400":a.score>=2?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:[a.score,"/4"]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2",children:a.summary})]},`${a.phase}-${c}`))})]})}),ad&&z&&(0,b.jsxs)("div",{className:"w-3/5 flex flex-col bg-gradient-to-br from-primary/5 via-background to-violet-500/5 h-full min-h-0",children:[(0,b.jsx)("div",{className:"flex-shrink-0 px-6 py-4 border-b border-primary/20 bg-primary/5 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-primary/10 ring-2 ring-primary/20",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"font-bold text-lg text-primary",children:"Interview Analysis"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Performance evaluation & feedback"})]})]})}),(0,b.jsx)("div",{className:"flex-1 min-h-0 overflow-y-auto p-6",children:(0,b.jsx)(B,{score:z,completedPhases:k})})]})]}),(0,b.jsx)(i.Dialog,{open:x,onOpenChange:y,children:(0,b.jsxs)(i.DialogContent,{className:"sm:max-w-md",children:[(0,b.jsxs)(i.DialogHeader,{children:[(0,b.jsxs)(i.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"End Interview?"]}),(0,b.jsxs)(i.DialogDescription,{className:"text-left",children:[I>0&&(0,b.jsxs)("span",{className:"block mb-2",children:["You have ",(0,b.jsx)("strong",{children:ag(I)})," remaining."]}),"The AI will evaluate your entire interview and provide detailed feedback on all dimensions."]})]}),(0,b.jsxs)(i.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>y(!1),children:"Continue"}),(0,b.jsx)(f.Button,{onClick:ak,disabled:v,className:"gap-2",children:v?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Evaluating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Get Results"]})})]})]})})]})}a.s(["InterviewChat",()=>E],92045)}];

//# sourceMappingURL=4fa9a_system-design-simulator_src_components_interview_interview-chat_tsx_414d9130._.js.map