module.exports=[83724,a=>{"use strict";var b=a.i(77658),c=a.i(23105),d=a.i(43778),e=a.i(99544);function f({timeFrame:a,topic:c,difficulty:d,availableTopics:f,onTimeFrameChange:g,onTopicChange:h,onDifficultyChange:i}){return(0,b.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground",children:"Time Frame"}),(0,b.jsxs)(e.Select,{value:a,onValueChange:g,children:[(0,b.jsx)(e.SelectTrigger,{className:"w-[140px]",children:(0,b.jsx)(e.SelectValue,{})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"week",children:"This Week"}),(0,b.jsx)(e.SelectItem,{value:"month",children:"This Month"}),(0,b.jsx)(e.SelectItem,{value:"all-time",children:"All Time"})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground",children:"Topic"}),(0,b.jsxs)(e.Select,{value:c,onValueChange:h,children:[(0,b.jsx)(e.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(e.SelectValue,{placeholder:"All Topics"})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All Topics"}),f.map(a=>(0,b.jsx)(e.SelectItem,{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground",children:"Difficulty"}),(0,b.jsxs)(e.Select,{value:d,onValueChange:i,children:[(0,b.jsx)(e.SelectTrigger,{className:"w-[120px]",children:(0,b.jsx)(e.SelectValue,{})}),(0,b.jsxs)(e.SelectContent,{children:[(0,b.jsx)(e.SelectItem,{value:"all",children:"All"}),(0,b.jsx)(e.SelectItem,{value:"easy",children:"Easy"}),(0,b.jsx)(e.SelectItem,{value:"medium",children:"Medium"}),(0,b.jsx)(e.SelectItem,{value:"hard",children:"Hard"})]})]})]})]})}var g=a.i(46851),h=a.i(31494);function i({trend:a}){return"up"===a?(0,b.jsx)("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}):"down"===a?(0,b.jsx)("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}):(0,b.jsx)("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14"})})}function j({rank:a}){return 1===a?(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center text-white font-bold shadow-lg",children:"1"}):2===a?(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-300 to-gray-500 flex items-center justify-center text-white font-bold shadow-lg",children:"2"}):3===a?(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-amber-600 to-amber-800 flex items-center justify-center text-white font-bold shadow-lg",children:"3"}):(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-muted-foreground font-medium",children:a})}function k({entries:a,isLoading:c}){return c?(0,b.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"h-16 rounded-lg bg-muted/50 animate-pulse"},c))}):0===a.length?(0,b.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,b.jsx)("p",{children:"No leaderboard data available yet."}),(0,b.jsx)("p",{className:"text-sm mt-1",children:"Complete some interviews to appear here!"})]}):(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"grid grid-cols-12 gap-4 px-4 py-2 text-sm text-muted-foreground font-medium",children:[(0,b.jsx)("div",{className:"col-span-1",children:"Rank"}),(0,b.jsx)("div",{className:"col-span-4",children:"User"}),(0,b.jsx)("div",{className:"col-span-2 text-center",children:"Score"}),(0,b.jsx)("div",{className:"col-span-2 text-center",children:"Interviews"}),(0,b.jsx)("div",{className:"col-span-2 text-center",children:"Pass Rate"}),(0,b.jsx)("div",{className:"col-span-1 text-center",children:"Trend"})]}),a.map(a=>(0,b.jsxs)("div",{className:(0,g.cn)("grid grid-cols-12 gap-4 px-4 py-3 rounded-lg border transition-colors",a.isCurrentUser?"border-primary/50 bg-primary/5":"border-border/50 hover:bg-muted/50"),children:[(0,b.jsx)("div",{className:"col-span-1 flex items-center",children:(0,b.jsx)(j,{rank:a.rank})}),(0,b.jsxs)("div",{className:"col-span-4 flex items-center gap-2",children:[(0,b.jsx)("span",{className:(0,g.cn)("font-medium",a.isCurrentUser&&"text-primary"),children:a.displayName}),a.isCurrentUser&&(0,b.jsx)(h.Badge,{variant:"outline",className:"text-xs",children:"You"})]}),(0,b.jsxs)("div",{className:"col-span-2 flex items-center justify-center",children:[(0,b.jsx)("span",{className:"font-bold text-lg",children:a.avgOverallScore.toFixed(2)}),(0,b.jsx)("span",{className:"text-muted-foreground text-sm ml-1",children:"/4.0"})]}),(0,b.jsx)("div",{className:"col-span-2 flex items-center justify-center text-muted-foreground",children:a.completedInterviews}),(0,b.jsx)("div",{className:"col-span-2 flex items-center justify-center",children:(0,b.jsxs)(h.Badge,{variant:a.passRate>=70?"default":a.passRate>=50?"secondary":"outline",children:[a.passRate,"%"]})}),(0,b.jsx)("div",{className:"col-span-1 flex items-center justify-center",children:(0,b.jsx)(i,{trend:a.trend})})]},a.userId))]})}function l(){let[a,e]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(null),[l,m]=(0,c.useState)("all-time"),[n,o]=(0,c.useState)("all"),[p,q]=(0,c.useState)("all"),r=(0,c.useCallback)(async()=>{h(!0),j(null);try{let a=new URLSearchParams({timeFrame:l,difficulty:p});n&&"all"!==n&&a.set("topic",n);let b=await fetch(`/api/leaderboard?${a}`);if(!b.ok)throw Error("Failed to fetch leaderboard");let c=await b.json();e(c)}catch(a){console.error("Leaderboard fetch error:",a),j("Failed to load leaderboard. Please try again.")}finally{h(!1)}},[l,n,p]);return(0,c.useEffect)(()=>{r()},[r]),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Leaderboard"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"See how you rank against other system design practitioners"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardHeader,{className:"pb-2",children:[(0,b.jsx)(d.CardDescription,{children:"Total Participants"}),(0,b.jsx)(d.CardTitle,{className:"text-4xl",children:g?"-":a?.totalUsers||0})]})}),(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardHeader,{className:"pb-2",children:[(0,b.jsx)(d.CardDescription,{children:"Your Rank"}),(0,b.jsx)(d.CardTitle,{className:"text-4xl",children:g?"-":a?.currentUserRank?`#${a.currentUserRank}`:"N/A"})]})}),(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardHeader,{className:"pb-2",children:[(0,b.jsx)(d.CardDescription,{children:"Top Score"}),(0,b.jsx)(d.CardTitle,{className:"text-4xl",children:g||!a?.entries.length?"-":`${a.entries[0].avgOverallScore.toFixed(2)}/4.0`})]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{children:"Rankings"}),(0,b.jsx)(d.CardDescription,{children:"Top performers based on average interview scores"})]}),(0,b.jsx)(f,{timeFrame:l,topic:n,difficulty:p,availableTopics:a?.availableTopics||[],onTimeFrameChange:m,onTopicChange:o,onDifficultyChange:q})]})}),(0,b.jsx)(d.CardContent,{children:i?(0,b.jsxs)("div",{className:"text-center py-12 text-destructive",children:[(0,b.jsx)("p",{children:i}),(0,b.jsx)("button",{onClick:r,className:"mt-4 text-sm underline hover:no-underline",children:"Try again"})]}):(0,b.jsx)(k,{entries:a?.entries||[],isLoading:g})})]})]})}a.s(["default",()=>l],83724)}];

//# sourceMappingURL=4fa9a_system-design-simulator_src_app_%28dashboard%29_leaderboard_page_tsx_9252ecbc._.js.map