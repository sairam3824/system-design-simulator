{"version":3,"sources":["../../../../../../../../Documents/Git/system-design/system-design-simulator/src/components/coding/coding-challenge.tsx/__nextjs-internal-proxy.mjs","../../../../../../../../Documents/Git/system-design/system-design-simulator/src/app/coding/%5Bid%5D/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CodingChallenge = registerClientReference(\n    function() { throw new Error(\"Attempted to call CodingChallenge() from the server but CodingChallenge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Documents/Git/system-design/system-design-simulator/src/components/coding/coding-challenge.tsx\",\n    \"CodingChallenge\",\n);\n","import { auth } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/prisma\";\nimport { redirect, notFound } from \"next/navigation\";\nimport { CodingChallenge } from \"@/components/coding/coding-challenge\";\n\nexport default async function CodingChallengePage({\n  params,\n}: {\n  params: Promise<{ id: string }>;\n}) {\n  const session = await auth();\n\n  if (!session?.user?.id) {\n    redirect(\"/login\");\n  }\n\n  const { id } = await params;\n\n  const challenge = await prisma.codingChallenge.findFirst({\n    where: {\n      id,\n      userId: session.user.id,\n    },\n    include: {\n      score: true,\n    },\n  });\n\n  if (!challenge) {\n    notFound();\n  }\n\n  // Calculate remaining time if in progress\n  let remainingTime = null;\n  if (challenge.status === \"in_progress\" && challenge.startedAt) {\n    const elapsedMs = Date.now() - challenge.startedAt.getTime();\n    const timeLimitMs = challenge.timeLimit * 60 * 1000;\n    remainingTime = Math.max(0, timeLimitMs - elapsedMs);\n  }\n\n  return (\n    <CodingChallenge\n      initialChallenge={{\n        id: challenge.id,\n        title: challenge.title,\n        description: challenge.description,\n        difficulty: challenge.difficulty,\n        category: challenge.category,\n        company: challenge.company,\n        language: challenge.language,\n        timeLimit: challenge.timeLimit,\n        status: challenge.status,\n        startedAt: challenge.startedAt?.toISOString() || null,\n        starterCode: challenge.starterCode,\n        finalCode: challenge.finalCode,\n        visibleTests: JSON.parse(challenge.visibleTests),\n        remainingTime,\n        score: challenge.score\n          ? {\n              correctness: challenge.score.correctness,\n              efficiency: challenge.score.efficiency,\n              codeQuality: challenge.score.codeQuality,\n              edgeCases: challenge.score.edgeCases,\n              overallScore: challenge.score.overallScore,\n              passStatus: challenge.score.passStatus,\n              feedback: challenge.score.feedback,\n              suggestedApproach: challenge.score.suggestedApproach,\n              complexityAnalysis: challenge.score.complexityAnalysis,\n            }\n          : null,\n      }}\n    />\n  );\n}\n"],"names":[],"mappings":"yyBAEO,IAAM,EAAkB,CAAA,EAAA,AAD/B,EAAA,CAAA,CAAA,OAC+B,uBAAA,AAAuB,EAClD,WAAa,MAAM,AAAI,MAAM,4OAA8O,EAC3Q,+HACA,0EAHG,IAAM,EAAkB,CAAA,EAAA,AAD/B,EAAA,CAAA,CAAA,OAC+B,uBAAA,AAAuB,EAClD,WAAa,MAAM,AAAI,MAAM,4OAA8O,EAC3Q,2GACA,8HCLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,kBAEe,eAAe,EAAoB,QAChD,CAAM,CAGP,EACC,IAAM,EAAU,MAAM,CAAA,EAAA,EAAA,IAAA,AAAI,GAEtB,CAAC,GAAS,MAAM,IAAI,AACtB,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,UAGX,GAAM,CAAE,IAAE,CAAE,CAAG,MAAM,EAEf,EAAY,MAAM,EAAA,MAAM,CAAC,eAAe,CAAC,SAAS,CAAC,CACvD,MAAO,CACL,KACA,OAAQ,EAAQ,IAAI,CAAC,EAAE,AACzB,EACA,QAAS,CACP,OAAO,CACT,CACF,EAEI,CAAC,GACH,CAAA,EAAA,EAAA,GADc,KACN,AAAR,IAIF,IAAI,EAAgB,KACpB,GAAyB,gBAArB,EAAU,MAAM,EAAsB,EAAU,SAAS,CAAE,CAC7D,IAAM,EAAY,KAAK,GAAG,GAAK,EAAU,SAAS,CAAC,OAAO,GACpD,EAAoC,GAAtB,EAAU,SAAS,CAAQ,IAC/C,EAAgB,KAAK,GAAG,CAAC,EAAG,EAAc,EAC5C,CAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CACd,iBAAkB,CAChB,GAAI,EAAU,EAAE,CAChB,MAAO,EAAU,KAAK,CACtB,YAAa,EAAU,WAAW,CAClC,WAAY,EAAU,UAAU,CAChC,SAAU,EAAU,QAAQ,CAC5B,QAAS,EAAU,OAAO,CAC1B,SAAU,EAAU,QAAQ,CAC5B,UAAW,EAAU,SAAS,CAC9B,OAAQ,EAAU,MAAM,CACxB,UAAW,EAAU,SAAS,EAAE,eAAiB,KACjD,YAAa,EAAU,WAAW,CAClC,UAAW,EAAU,SAAS,CAC9B,aAAc,KAAK,KAAK,CAAC,EAAU,YAAY,gBAC/C,EACA,MAAO,EAAU,KAAK,CAClB,CACE,YAAa,EAAU,KAAK,CAAC,WAAW,CACxC,WAAY,EAAU,KAAK,CAAC,UAAU,CACtC,YAAa,EAAU,KAAK,CAAC,WAAW,CACxC,UAAW,EAAU,KAAK,CAAC,SAAS,CACpC,aAAc,EAAU,KAAK,CAAC,YAAY,CAC1C,WAAY,EAAU,KAAK,CAAC,UAAU,CACtC,SAAU,EAAU,KAAK,CAAC,QAAQ,CAClC,kBAAmB,EAAU,KAAK,CAAC,iBAAiB,CACpD,mBAAoB,EAAU,KAAK,CAAC,kBAAkB,AACxD,EACA,IACN,GAGN","ignoreList":[0]}