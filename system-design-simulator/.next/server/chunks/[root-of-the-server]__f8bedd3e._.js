module.exports=[70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},93695,(e,t,r)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},18622,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24725,(e,t,r)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},54799,(e,t,r)=>{t.exports=e.x("crypto",()=>require("crypto"))},50227,(e,t,r)=>{t.exports=e.x("node:path",()=>require("node:path"))},57764,(e,t,r)=>{t.exports=e.x("node:url",()=>require("node:url"))},91335,(e,t,r)=>{t.exports=e.x("@prisma/client-a42149e401336614/runtime/client",()=>require("@prisma/client-a42149e401336614/runtime/client"))},81074,e=>e.a(async(t,r)=>{try{let t=await e.y("@libsql/client-1fcf21e78c4be154");e.n(t),r()}catch(e){r(e)}},!0),77669,e=>e.a(async(t,r)=>{try{var s=e.i(78968),a=t([s]);[s]=a.then?(await a)():a;let p={requirements:{name:"Requirements Clarification",recommended:480},"high-level":{name:"High-Level Design",recommended:720},"deep-dive":{name:"Deep Dive",recommended:720},scalability:{name:"Scalability",recommended:600},wrapup:{name:"Wrap-up",recommended:180}};function n(e,t){return 0===t?0:(e-t)/t*100}async function i(e){let t=await s.prisma.interview.findUnique({where:{id:e},select:{startedAt:!0,endedAt:!0,phaseDurations:!0,phaseTransitions:!0}});if(!t)return null;let r=t.phaseDurations?JSON.parse(t.phaseDurations):{},a=0;a=t.startedAt&&t.endedAt?Math.floor((new Date(t.endedAt).getTime()-new Date(t.startedAt).getTime())/1e3):Object.values(r).reduce((e,t)=>e+t,0);let i=[];for(let[e,t]of Object.entries(p)){let s=r[e]||0,a=n(s,t.recommended);i.push({phaseId:e,phaseName:t.name,recommendedDuration:t.recommended,actualDuration:s,deviation:Number(a.toFixed(1)),isOverTime:a>20,isUnderTime:a<-30})}let o={rushesRequirements:(r.requirements||0)<.5*p.requirements.recommended,spendsExcessiveOnDeepDive:(r["deep-dive"]||0)>1.5*p["deep-dive"].recommended,neglectsScalability:(r.scalability||0)<.4*p.scalability.recommended,skipsWrapup:60>(r.wrapup||0)},l=d(i,o);return{totalInterviewDuration:a,phases:i,averagePhaseAllocation:{},patterns:o,recommendations:l}}async function o(e,t=10){let r=await s.prisma.interview.findMany({where:{userId:e,status:"completed",phaseDurations:{not:null}},orderBy:{endedAt:"desc"},take:t,select:{startedAt:!0,endedAt:!0,phaseDurations:!0}});if(0===r.length)return{totalInterviewDuration:0,phases:Object.entries(p).map(([e,t])=>({phaseId:e,phaseName:t.name,recommendedDuration:t.recommended,actualDuration:0,deviation:0,isOverTime:!1,isUnderTime:!1})),averagePhaseAllocation:{},patterns:{rushesRequirements:!1,spendsExcessiveOnDeepDive:!1,neglectsScalability:!1,skipsWrapup:!1},recommendations:["Complete more interviews to see time pattern analysis."]};let a={},i=0;for(let e of Object.keys(p))a[e]=[];for(let e of r){let t=e.phaseDurations?JSON.parse(e.phaseDurations):{};for(let[r]of(e.startedAt&&e.endedAt&&(i+=Math.floor((new Date(e.endedAt).getTime()-new Date(e.startedAt).getTime())/1e3)),Object.entries(p)))void 0!==t[r]&&a[r].push(t[r])}let l={},m=[];for(let[e,t]of Object.entries(p)){let r=a[e],s=r.length>0?r.reduce((e,t)=>e+t,0)/r.length:0,i=n(s,t.recommended);l[e]={avgDuration:Math.round(s),avgDeviation:Number(i.toFixed(1))},m.push({phaseId:e,phaseName:t.name,recommendedDuration:t.recommended,actualDuration:Math.round(s),deviation:Number(i.toFixed(1)),isOverTime:i>20,isUnderTime:i<-30})}let u={rushesRequirements:(l.requirements?.avgDuration||0)<.5*p.requirements.recommended,spendsExcessiveOnDeepDive:(l["deep-dive"]?.avgDuration||0)>1.5*p["deep-dive"].recommended,neglectsScalability:(l.scalability?.avgDuration||0)<.4*p.scalability.recommended,skipsWrapup:60>(l.wrapup?.avgDuration||0)},c=d(m,u);return{totalInterviewDuration:Math.round(i/r.length),phases:m,averagePhaseAllocation:l,patterns:u,recommendations:c}}function d(e,t){let r=[];for(let s of(t.rushesRequirements&&r.push("Spend more time on requirements clarification. Ask about scale, users, and constraints before designing."),t.spendsExcessiveOnDeepDive&&r.push("You're spending too much time on deep dive. Keep some time for scalability discussion."),t.neglectsScalability&&r.push("Allocate more time to discuss scalability. This is a critical part of system design interviews."),t.skipsWrapup&&r.push("Don't skip the wrap-up phase. Use it to summarize your design and address concerns."),e))s.isOverTime&&s.deviation>50&&r.push(`You're spending ${Math.round(s.deviation)}% more time than recommended on ${s.phaseName}.`),s.isUnderTime&&s.deviation<-50&&r.push(`You're spending ${Math.abs(Math.round(s.deviation))}% less time than recommended on ${s.phaseName}.`);return 0===r.length&&r.push("Your time allocation is well-balanced across phases. Keep it up!"),r}function l(e){let t=(2700-e)/60;return t>37?"requirements":t>25?"high-level":t>13?"deep-dive":t>3?"scalability":"wrapup"}e.s(["analyzeInterviewTime",()=>i,"calculatePhaseAtTime",()=>l,"getUserTimePatterns",()=>o]),r()}catch(e){r(e)}},!1),16005,e=>{e.v(t=>Promise.all(["server/chunks/[externals]_node:buffer_00e2e67a._.js"].map(t=>e.l(t))).then(()=>t(51615)))},17059,e=>{e.v(t=>Promise.all(["server/chunks/[externals]_@prisma_client_runtime_query_compiler_fast_bg_sqlite_mjs_6659bef3._.js"].map(t=>e.l(t))).then(()=>t(45217)))},46021,e=>{e.v(t=>Promise.all(["server/chunks/2e4a4_@prisma_client_runtime_query_compiler_fast_bg_sqlite_wasm-base64_mjs_dda4a92d._.js"].map(t=>e.l(t))).then(()=>t(82256)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f8bedd3e._.js.map