module.exports = [
"[externals]/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-route-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/@opentelemetry/api [external] (next/dist/compiled/@opentelemetry/api, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/@opentelemetry/api", () => require("next/dist/compiled/@opentelemetry/api"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/after-task-async-storage.external.js [external] (next/dist/server/app-render/after-task-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/after-task-async-storage.external.js", () => require("next/dist/server/app-render/after-task-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/crypto [external] (crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/action-async-storage.external.js [external] (next/dist/server/app-render/action-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/action-async-storage.external.js", () => require("next/dist/server/app-render/action-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/node:path [external] (node:path, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:path", () => require("node:path"));

module.exports = mod;
}),
"[externals]/node:url [external] (node:url, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("node:url", () => require("node:url"));

module.exports = mod;
}),
"[project]/Documents/Git/system-design/system-design-simulator/src/generated/prisma/internal/class.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getPrismaClientClass",
    ()=>getPrismaClientClass
]);
/* !!! This is code generated by Prisma. Do not edit directly. !!! */ /* eslint-disable */ // biome-ignore-all lint: generated file
// @ts-nocheck 
/*
 * WARNING: This is an internal file that is subject to change!
 *
 * ðŸ›‘ Under no circumstances should you import this file directly! ðŸ›‘
 *
 * Please import the `PrismaClient` class from the `client.ts` file instead.
 */ var __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__ = __turbopack_context__.i("[externals]/@prisma/client/runtime/client [external] (@prisma/client/runtime/client, cjs, [project]/Documents/Git/system-design/system-design-simulator/node_modules/@prisma/client)");
;
const config = {
    "previewFeatures": [],
    "clientVersion": "7.3.0",
    "engineVersion": "9d6ad21cbbceab97458517b147a6a09ff43aa735",
    "activeProvider": "sqlite",
    "inlineSchema": "// Prisma schema for AI System Design Simulator\ngenerator client {\n  provider = \"prisma-client\"\n  output   = \"../src/generated/prisma\"\n}\n\ndatasource db {\n  provider = \"sqlite\"\n}\n\nmodel User {\n  id        String   @id @default(cuid())\n  email     String   @unique\n  password  String\n  name      String?\n  avatar    String?\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  profile    Profile?\n  resumes    Resume[]\n  interviews Interview[]\n}\n\nmodel Profile {\n  id     String @id @default(cuid())\n  userId String @unique\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  bio             String?\n  yearsExperience Int?\n  skills          String  @default(\"[]\") // JSON array stored as string\n  targetCompanies String  @default(\"[]\") // JSON array stored as string\n  targetRole      String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n}\n\nmodel Resume {\n  id     String @id @default(cuid())\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  fileName String\n  content  String // Full text content of resume\n  analysis String? // JSON object with AI analysis\n  filePath String? // Local path to the stored resume file\n\n  // ATS Score Data\n  atsScore       Int? // Total ATS score (0-100)\n  atsBreakdown   String? // JSON: { contactInfo, structure, experience, keywords, impact }\n  atsFeedback    String? // JSON array of feedback strings\n  keywords       String? // JSON array of extracted keywords\n  softSkills     String? // JSON array of soft skills\n  predictedRoles String? // JSON array of predicted job roles\n\n  uploadedAt DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n}\n\nmodel Interview {\n  id     String @id @default(cuid())\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  topic      String // e.g., \"Design Twitter\", \"Design Uber\"\n  difficulty String @default(\"medium\") // easy, medium, hard\n  status     String @default(\"pending\") // pending, in_progress, completed\n\n  startedAt DateTime?\n  endedAt   DateTime?\n  createdAt DateTime  @default(now())\n\n  messages Message[]\n  score    Score?\n}\n\nmodel Message {\n  id          String    @id @default(cuid())\n  interviewId String\n  interview   Interview @relation(fields: [interviewId], references: [id], onDelete: Cascade)\n\n  role    String // user, assistant, system\n  content String\n\n  timestamp DateTime @default(now())\n}\n\nmodel Score {\n  id          String    @id @default(cuid())\n  interviewId String    @unique\n  interview   Interview @relation(fields: [interviewId], references: [id], onDelete: Cascade)\n\n  // 6 Industry-Standard FAANG Evaluation Dimensions (1-4 scale)\n  requirementsClarification Int @default(0)\n  highLevelDesign           Int @default(0)\n  detailedDesign            Int @default(0)\n  scalability               Int @default(0)\n  tradeoffs                 Int @default(0)\n  communication             Int @default(0)\n\n  // Calculated fields\n  overallScore Float   @default(0) // Weighted average\n  passStatus   Boolean @default(false)\n\n  // Detailed feedback as JSON\n  feedback String @default(\"{}\") // JSON with per-dimension comments\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n}\n",
    "runtimeDataModel": {
        "models": {},
        "enums": {},
        "types": {}
    }
};
config.runtimeDataModel = JSON.parse("{\"models\":{\"User\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"password\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"avatar\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"profile\",\"kind\":\"object\",\"type\":\"Profile\",\"relationName\":\"ProfileToUser\"},{\"name\":\"resumes\",\"kind\":\"object\",\"type\":\"Resume\",\"relationName\":\"ResumeToUser\"},{\"name\":\"interviews\",\"kind\":\"object\",\"type\":\"Interview\",\"relationName\":\"InterviewToUser\"}],\"dbName\":null},\"Profile\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"ProfileToUser\"},{\"name\":\"bio\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"yearsExperience\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"skills\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"targetCompanies\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"targetRole\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Resume\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"ResumeToUser\"},{\"name\":\"fileName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"content\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"analysis\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"filePath\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"atsScore\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"atsBreakdown\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"atsFeedback\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"keywords\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"softSkills\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"predictedRoles\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"uploadedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Interview\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"InterviewToUser\"},{\"name\":\"topic\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"difficulty\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"endedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"messages\",\"kind\":\"object\",\"type\":\"Message\",\"relationName\":\"InterviewToMessage\"},{\"name\":\"score\",\"kind\":\"object\",\"type\":\"Score\",\"relationName\":\"InterviewToScore\"}],\"dbName\":null},\"Message\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"interviewId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"interview\",\"kind\":\"object\",\"type\":\"Interview\",\"relationName\":\"InterviewToMessage\"},{\"name\":\"role\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"content\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"timestamp\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Score\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"interviewId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"interview\",\"kind\":\"object\",\"type\":\"Interview\",\"relationName\":\"InterviewToScore\"},{\"name\":\"requirementsClarification\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"highLevelDesign\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"detailedDesign\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"scalability\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"tradeoffs\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"communication\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"overallScore\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"passStatus\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"feedback\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null}},\"enums\":{},\"types\":{}}");
async function decodeBase64AsWasm(wasmBase64) {
    const { Buffer } = await __turbopack_context__.A("[externals]/node:buffer [external] (node:buffer, cjs, async loader)");
    const wasmArray = Buffer.from(wasmBase64, 'base64');
    return new WebAssembly.Module(wasmArray);
}
config.compilerWasm = {
    getRuntime: async ()=>await __turbopack_context__.A("[externals]/@prisma/client/runtime/query_compiler_fast_bg.sqlite.mjs [external] (@prisma/client/runtime/query_compiler_fast_bg.sqlite.mjs, esm_import, [project]/Documents/Git/system-design/system-design-simulator/node_modules/@prisma/client, async loader)"),
    getQueryCompilerWasmModule: async ()=>{
        const { wasm } = await __turbopack_context__.A("[externals]/@prisma/client/runtime/query_compiler_fast_bg.sqlite.wasm-base64.mjs [external] (@prisma/client/runtime/query_compiler_fast_bg.sqlite.wasm-base64.mjs, esm_import, [project]/Documents/Git/system-design/system-design-simulator/node_modules/@prisma/client, async loader)");
        return await decodeBase64AsWasm(wasm);
    },
    importName: "./query_compiler_fast_bg.js"
};
function getPrismaClientClass() {
    return __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["getPrismaClient"](config);
}
}),
"[project]/Documents/Git/system-design/system-design-simulator/src/generated/prisma/internal/prismaNamespace.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AnyNull",
    ()=>AnyNull,
    "DbNull",
    ()=>DbNull,
    "Decimal",
    ()=>Decimal,
    "InterviewScalarFieldEnum",
    ()=>InterviewScalarFieldEnum,
    "JsonNull",
    ()=>JsonNull,
    "MessageScalarFieldEnum",
    ()=>MessageScalarFieldEnum,
    "ModelName",
    ()=>ModelName,
    "NullTypes",
    ()=>NullTypes,
    "NullsOrder",
    ()=>NullsOrder,
    "PrismaClientInitializationError",
    ()=>PrismaClientInitializationError,
    "PrismaClientKnownRequestError",
    ()=>PrismaClientKnownRequestError,
    "PrismaClientRustPanicError",
    ()=>PrismaClientRustPanicError,
    "PrismaClientUnknownRequestError",
    ()=>PrismaClientUnknownRequestError,
    "PrismaClientValidationError",
    ()=>PrismaClientValidationError,
    "ProfileScalarFieldEnum",
    ()=>ProfileScalarFieldEnum,
    "ResumeScalarFieldEnum",
    ()=>ResumeScalarFieldEnum,
    "ScoreScalarFieldEnum",
    ()=>ScoreScalarFieldEnum,
    "SortOrder",
    ()=>SortOrder,
    "Sql",
    ()=>Sql,
    "TransactionIsolationLevel",
    ()=>TransactionIsolationLevel,
    "UserScalarFieldEnum",
    ()=>UserScalarFieldEnum,
    "defineExtension",
    ()=>defineExtension,
    "empty",
    ()=>empty,
    "getExtensionContext",
    ()=>getExtensionContext,
    "join",
    ()=>join,
    "prismaVersion",
    ()=>prismaVersion,
    "raw",
    ()=>raw,
    "sql",
    ()=>sql
]);
/* !!! This is code generated by Prisma. Do not edit directly. !!! */ /* eslint-disable */ // biome-ignore-all lint: generated file
// @ts-nocheck 
/*
 * WARNING: This is an internal file that is subject to change!
 *
 * ðŸ›‘ Under no circumstances should you import this file directly! ðŸ›‘
 *
 * All exports from this file are wrapped under a `Prisma` namespace object in the client.ts file.
 * While this enables partial backward compatibility, it is not part of the stable public API.
 *
 * If you are looking for your Models, Enums, and Input Types, please import them from the respective
 * model files in the `model` directory!
 */ var __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__ = __turbopack_context__.i("[externals]/@prisma/client/runtime/client [external] (@prisma/client/runtime/client, cjs, [project]/Documents/Git/system-design/system-design-simulator/node_modules/@prisma/client)");
;
const PrismaClientKnownRequestError = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["PrismaClientKnownRequestError"];
const PrismaClientUnknownRequestError = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["PrismaClientUnknownRequestError"];
const PrismaClientRustPanicError = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["PrismaClientRustPanicError"];
const PrismaClientInitializationError = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["PrismaClientInitializationError"];
const PrismaClientValidationError = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["PrismaClientValidationError"];
const sql = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["sqltag"];
const empty = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["empty"];
const join = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["join"];
const raw = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["raw"];
const Sql = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["Sql"];
const Decimal = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["Decimal"];
const getExtensionContext = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["Extensions"].getExtensionContext;
const prismaVersion = {
    client: "7.3.0",
    engine: "9d6ad21cbbceab97458517b147a6a09ff43aa735"
};
const NullTypes = {
    DbNull: __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["NullTypes"].DbNull,
    JsonNull: __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["NullTypes"].JsonNull,
    AnyNull: __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["NullTypes"].AnyNull
};
const DbNull = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["DbNull"];
const JsonNull = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["JsonNull"];
const AnyNull = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["AnyNull"];
const ModelName = {
    User: 'User',
    Profile: 'Profile',
    Resume: 'Resume',
    Interview: 'Interview',
    Message: 'Message',
    Score: 'Score'
};
const TransactionIsolationLevel = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["makeStrictEnum"]({
    Serializable: 'Serializable'
});
const UserScalarFieldEnum = {
    id: 'id',
    email: 'email',
    password: 'password',
    name: 'name',
    avatar: 'avatar',
    createdAt: 'createdAt',
    updatedAt: 'updatedAt'
};
const ProfileScalarFieldEnum = {
    id: 'id',
    userId: 'userId',
    bio: 'bio',
    yearsExperience: 'yearsExperience',
    skills: 'skills',
    targetCompanies: 'targetCompanies',
    targetRole: 'targetRole',
    createdAt: 'createdAt',
    updatedAt: 'updatedAt'
};
const ResumeScalarFieldEnum = {
    id: 'id',
    userId: 'userId',
    fileName: 'fileName',
    content: 'content',
    analysis: 'analysis',
    filePath: 'filePath',
    atsScore: 'atsScore',
    atsBreakdown: 'atsBreakdown',
    atsFeedback: 'atsFeedback',
    keywords: 'keywords',
    softSkills: 'softSkills',
    predictedRoles: 'predictedRoles',
    uploadedAt: 'uploadedAt',
    updatedAt: 'updatedAt'
};
const InterviewScalarFieldEnum = {
    id: 'id',
    userId: 'userId',
    topic: 'topic',
    difficulty: 'difficulty',
    status: 'status',
    startedAt: 'startedAt',
    endedAt: 'endedAt',
    createdAt: 'createdAt'
};
const MessageScalarFieldEnum = {
    id: 'id',
    interviewId: 'interviewId',
    role: 'role',
    content: 'content',
    timestamp: 'timestamp'
};
const ScoreScalarFieldEnum = {
    id: 'id',
    interviewId: 'interviewId',
    requirementsClarification: 'requirementsClarification',
    highLevelDesign: 'highLevelDesign',
    detailedDesign: 'detailedDesign',
    scalability: 'scalability',
    tradeoffs: 'tradeoffs',
    communication: 'communication',
    overallScore: 'overallScore',
    passStatus: 'passStatus',
    feedback: 'feedback',
    createdAt: 'createdAt',
    updatedAt: 'updatedAt'
};
const SortOrder = {
    asc: 'asc',
    desc: 'desc'
};
const NullsOrder = {
    first: 'first',
    last: 'last'
};
const defineExtension = __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client$2f$runtime$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2f$runtime$2f$client$2c$__cjs$2c$__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$client$29$__["Extensions"].defineExtension;
}),
"[project]/Documents/Git/system-design/system-design-simulator/src/generated/prisma/enums.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/* !!! This is code generated by Prisma. Do not edit directly. !!! */ /* eslint-disable */ // biome-ignore-all lint: generated file
// @ts-nocheck 
/*
* This file exports all enum related types from the schema.
*
* ðŸŸ¢ You can import this file directly.
*/ // This file is empty because there are no enums in the schema.
__turbopack_context__.s([]);
;
}),
"[project]/Documents/Git/system-design/system-design-simulator/src/generated/prisma/client.ts [app-route] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

/* !!! This is code generated by Prisma. Do not edit directly. !!! */ /* eslint-disable */ // biome-ignore-all lint: generated file
// @ts-nocheck 
/*
 * This file should be your main import to use Prisma. Through it you get access to all the models, enums, and input types.
 * If you're looking for something you can import in the client-side of your application, please refer to the `browser.ts` file instead.
 *
 * ðŸŸ¢ You can import this file directly.
 */ __turbopack_context__.s([
    "PrismaClient",
    ()=>PrismaClient
]);
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$path__$5b$external$5d$__$28$node$3a$path$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:path [external] (node:path, cjs)");
var __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$url__$5b$external$5d$__$28$node$3a$url$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/node:url [external] (node:url, cjs)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$generated$2f$prisma$2f$internal$2f$class$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/src/generated/prisma/internal/class.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$generated$2f$prisma$2f$internal$2f$prismaNamespace$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/src/generated/prisma/internal/prismaNamespace.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$generated$2f$prisma$2f$enums$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/src/generated/prisma/enums.ts [app-route] (ecmascript)");
const __TURBOPACK__import$2e$meta__ = {
    get url () {
        return `file://${__turbopack_context__.P("Documents/Git/system-design/system-design-simulator/src/generated/prisma/client.ts")}`;
    }
};
;
;
globalThis['__dirname'] = __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$path__$5b$external$5d$__$28$node$3a$path$2c$__cjs$29$__["dirname"]((0, __TURBOPACK__imported__module__$5b$externals$5d2f$node$3a$url__$5b$external$5d$__$28$node$3a$url$2c$__cjs$29$__["fileURLToPath"])(__TURBOPACK__import$2e$meta__.url));
;
;
;
;
const PrismaClient = __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$generated$2f$prisma$2f$internal$2f$class$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getPrismaClientClass"]();
;
}),
"[project]/Documents/Git/system-design/system-design-simulator/src/lib/prisma.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

return __turbopack_context__.a(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__,
    "prisma",
    ()=>prisma
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$generated$2f$prisma$2f$client$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/src/generated/prisma/client.ts [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$adapter$2d$libsql$2f$dist$2f$index$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/node_modules/@prisma/adapter-libsql/dist/index-node.mjs [app-route] (ecmascript)");
var __turbopack_async_dependencies__ = __turbopack_handle_async_dependencies__([
    __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$adapter$2d$libsql$2f$dist$2f$index$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__
]);
[__TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$adapter$2d$libsql$2f$dist$2f$index$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__] = __turbopack_async_dependencies__.then ? (await __turbopack_async_dependencies__)() : __turbopack_async_dependencies__;
;
;
const adapter = new __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$prisma$2f$adapter$2d$libsql$2f$dist$2f$index$2d$node$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["PrismaLibSql"]({
    url: process.env.DATABASE_URL || "file:./dev.db"
});
const globalForPrisma = globalThis;
const prisma = globalForPrisma.prisma ?? new __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$generated$2f$prisma$2f$client$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["PrismaClient"]({
    adapter
});
if ("TURBOPACK compile-time truthy", 1) globalForPrisma.prisma = prisma;
const __TURBOPACK__default__export__ = prisma;
__turbopack_async_result__();
} catch(e) { __turbopack_async_result__(e); } }, false);}),
"[project]/Documents/Git/system-design/system-design-simulator/src/lib/auth.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

return __turbopack_context__.a(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {

__turbopack_context__.s([
    "auth",
    ()=>auth,
    "handlers",
    ()=>handlers,
    "signIn",
    ()=>signIn,
    "signOut",
    ()=>signOut
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$next$2d$auth$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/node_modules/next-auth/index.js [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$next$2d$auth$2f$providers$2f$credentials$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/node_modules/next-auth/providers/credentials.js [app-route] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$auth$2f$core$2f$providers$2f$credentials$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/node_modules/@auth/core/providers/credentials.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$bcryptjs$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/node_modules/bcryptjs/index.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/src/lib/prisma.ts [app-route] (ecmascript)");
var __turbopack_async_dependencies__ = __turbopack_handle_async_dependencies__([
    __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__
]);
[__TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__] = __turbopack_async_dependencies__.then ? (await __turbopack_async_dependencies__)() : __turbopack_async_dependencies__;
;
;
;
;
const { handlers, signIn, signOut, auth } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$next$2d$auth$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["default"])({
    providers: [
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f40$auth$2f$core$2f$providers$2f$credentials$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"])({
            name: "credentials",
            credentials: {
                email: {
                    label: "Email",
                    type: "email"
                },
                password: {
                    label: "Password",
                    type: "password"
                }
            },
            async authorize (credentials) {
                if (!credentials?.email || !credentials?.password) {
                    return null;
                }
                const email = credentials.email;
                const password = credentials.password;
                const user = await __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].user.findUnique({
                    where: {
                        email
                    }
                });
                if (!user) {
                    return null;
                }
                const isPasswordValid = await __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$bcryptjs$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].compare(password, user.password);
                if (!isPasswordValid) {
                    return null;
                }
                return {
                    id: user.id,
                    email: user.email,
                    name: user.name,
                    image: user.avatar
                };
            }
        })
    ],
    callbacks: {
        async jwt ({ token, user }) {
            if (user) {
                token.id = user.id;
            }
            return token;
        },
        async session ({ session, token }) {
            if (session.user) {
                session.user.id = token.id;
            }
            return session;
        }
    },
    pages: {
        signIn: "/login"
    },
    session: {
        strategy: "jwt"
    }
});
__turbopack_async_result__();
} catch(e) { __turbopack_async_result__(e); } }, false);}),
"[project]/Documents/Git/system-design/system-design-simulator/src/lib/ollama.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "checkOllamaHealth",
    ()=>checkOllamaHealth,
    "createOllamaSSEStream",
    ()=>createOllamaSSEStream,
    "default",
    ()=>__TURBOPACK__default__export__,
    "listModels",
    ()=>listModels,
    "ollama",
    ()=>ollama,
    "ollamaChat",
    ()=>ollamaChat,
    "ollamaChatStream",
    ()=>ollamaChatStream
]);
/**
 * Ollama Client for Local LLM Inference
 *
 * Uses Ollama running locally for faster interview interactions.
 * Default model: llama3 (8B)
 *
 * Make sure Ollama is running: ollama serve
 * Pull the model: ollama pull llama3
 */ const OLLAMA_BASE_URL = process.env.OLLAMA_BASE_URL || "http://localhost:11434";
const OLLAMA_MODEL = process.env.OLLAMA_MODEL || "llama3";
async function checkOllamaHealth() {
    try {
        const response = await fetch(`${OLLAMA_BASE_URL}/api/tags`, {
            method: "GET"
        });
        return response.ok;
    } catch  {
        return false;
    }
}
async function listModels() {
    try {
        const response = await fetch(`${OLLAMA_BASE_URL}/api/tags`);
        if (!response.ok) return [];
        const data = await response.json();
        return data.models?.map((m)=>m.name) || [];
    } catch  {
        return [];
    }
}
async function ollamaChat(options) {
    const { model = OLLAMA_MODEL, messages, temperature = 0.7 } = options;
    const response = await fetch(`${OLLAMA_BASE_URL}/api/chat`, {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            model,
            messages,
            stream: false,
            options: {
                temperature,
                num_predict: options.max_tokens || 800,
                top_p: options.top_p || 0.9,
                stop: options.stop
            }
        })
    });
    if (!response.ok) {
        const error = await response.text();
        throw new Error(`Ollama error: ${error}`);
    }
    return response.json();
}
async function ollamaChatStream(options) {
    const { model = OLLAMA_MODEL, messages, temperature = 0.7 } = options;
    const response = await fetch(`${OLLAMA_BASE_URL}/api/chat`, {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            model,
            messages,
            stream: true,
            options: {
                temperature,
                num_predict: options.max_tokens || 800,
                top_p: options.top_p || 0.9,
                stop: options.stop
            }
        })
    });
    if (!response.ok) {
        const error = await response.text();
        throw new Error(`Ollama streaming error: ${error}`);
    }
    if (!response.body) {
        throw new Error("No response body from Ollama");
    }
    return response.body;
}
function createOllamaSSEStream(ollamaStream) {
    const encoder = new TextEncoder();
    const decoder = new TextDecoder();
    let buffer = "";
    return new ReadableStream({
        async start (controller) {
            const reader = ollamaStream.getReader();
            try {
                while(true){
                    const { done, value } = await reader.read();
                    if (done) {
                        controller.close();
                        break;
                    }
                    buffer += decoder.decode(value, {
                        stream: true
                    });
                    // Process complete JSON lines
                    const lines = buffer.split("\n");
                    buffer = lines.pop() || "";
                    for (const line of lines){
                        if (line.trim()) {
                            try {
                                const json = JSON.parse(line);
                                if (json.message?.content) {
                                    // Send as SSE format
                                    const sseData = `data: ${JSON.stringify({
                                        content: json.message.content
                                    })}\n\n`;
                                    controller.enqueue(encoder.encode(sseData));
                                }
                                if (json.done) {
                                    controller.enqueue(encoder.encode("data: [DONE]\n\n"));
                                }
                            } catch  {
                            // Skip invalid JSON lines
                            }
                        }
                    }
                }
            } catch (error) {
                controller.error(error);
            }
        }
    });
}
const ollama = {
    chat: {
        completions: {
            create: async (options)=>{
                if (options.stream) {
                    const stream = await ollamaChatStream({
                        model: options.model || OLLAMA_MODEL,
                        messages: options.messages,
                        temperature: options.temperature,
                        max_tokens: options.max_tokens,
                        stream: true
                    });
                    return {
                        body: createOllamaSSEStream(stream)
                    };
                } else {
                    const response = await ollamaChat({
                        model: options.model || OLLAMA_MODEL,
                        messages: options.messages,
                        temperature: options.temperature,
                        max_tokens: options.max_tokens,
                        stream: false
                    });
                    return {
                        choices: [
                            {
                                message: {
                                    role: response.message.role,
                                    content: response.message.content
                                }
                            }
                        ]
                    };
                }
            }
        }
    }
};
const __TURBOPACK__default__export__ = ollama;
}),
"[project]/Documents/Git/system-design/system-design-simulator/src/lib/difficulty-calculator.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Smart Difficulty Calculator
 *
 * Calculates the actual interview difficulty based on user profile,
 * skills, experience, target companies, and resume analysis.
 *
 * Weightages:
 * - Experience Level: 30%
 * - Skills Match: 25%
 * - Target Companies: 20%
 * - Resume Analysis: 15%
 * - Selected Difficulty: 10%
 */ __turbopack_context__.s([
    "calculateSmartDifficulty",
    ()=>calculateSmartDifficulty,
    "getDifficultyDescription",
    ()=>getDifficultyDescription
]);
// Weightages for each factor
const WEIGHTS = {
    experience: 0.30,
    skills: 0.25,
    companies: 0.20,
    resume: 0.15,
    selected: 0.10
};
// FAANG and top-tier companies (require higher difficulty)
const TOP_TIER_COMPANIES = [
    "google",
    "meta",
    "facebook",
    "amazon",
    "apple",
    "microsoft",
    "netflix",
    "uber",
    "airbnb",
    "stripe",
    "coinbase",
    "linkedin",
    "twitter",
    "x",
    "openai",
    "anthropic",
    "databricks",
    "snowflake",
    "palantir",
    "nvidia",
    "tesla",
    "spacex",
    "bloomberg",
    "citadel",
    "two sigma",
    "jane street",
    "bytedance",
    "tiktok",
    "spotify",
    "dropbox",
    "slack",
    "salesforce"
];
// System design related skills
const SYSTEM_DESIGN_SKILLS = [
    "system design",
    "distributed systems",
    "microservices",
    "kubernetes",
    "docker",
    "aws",
    "gcp",
    "azure",
    "kafka",
    "redis",
    "elasticsearch",
    "mongodb",
    "postgresql",
    "mysql",
    "cassandra",
    "dynamodb",
    "graphql",
    "rest api",
    "load balancing",
    "caching",
    "sharding",
    "replication",
    "cap theorem",
    "event-driven",
    "message queues",
    "rabbitmq",
    "grpc",
    "websockets",
    "cdn",
    "api gateway",
    "service mesh",
    "istio",
    "terraform",
    "ci/cd",
    "scalability",
    "high availability",
    "fault tolerance",
    "database design"
];
/**
 * Calculate experience score (0-100)
 * 0-2 years: Beginner (20-40)
 * 3-5 years: Intermediate (40-60)
 * 6-10 years: Senior (60-80)
 * 10+ years: Expert (80-100)
 */ function calculateExperienceScore(yearsExperience) {
    if (!yearsExperience || yearsExperience <= 0) return 20;
    if (yearsExperience <= 2) {
        return 20 + yearsExperience / 2 * 20; // 20-40
    } else if (yearsExperience <= 5) {
        return 40 + (yearsExperience - 2) / 3 * 20; // 40-60
    } else if (yearsExperience <= 10) {
        return 60 + (yearsExperience - 5) / 5 * 20; // 60-80
    } else {
        return Math.min(100, 80 + (yearsExperience - 10) / 10 * 20); // 80-100
    }
}
/**
 * Calculate skills score based on system design relevant skills (0-100)
 */ function calculateSkillsScore(skills) {
    if (!skills || skills.length === 0) return 30;
    const normalizedSkills = skills.map((s)=>s.toLowerCase().trim());
    let matchCount = 0;
    let totalRelevance = 0;
    for (const skill of normalizedSkills){
        for (const sdSkill of SYSTEM_DESIGN_SKILLS){
            if (skill.includes(sdSkill) || sdSkill.includes(skill)) {
                matchCount++;
                // Some skills are more advanced
                if ([
                    "distributed systems",
                    "cap theorem",
                    "sharding",
                    "service mesh",
                    "event-driven"
                ].some((s)=>skill.includes(s))) {
                    totalRelevance += 15;
                } else if ([
                    "kubernetes",
                    "kafka",
                    "elasticsearch",
                    "microservices"
                ].some((s)=>skill.includes(s))) {
                    totalRelevance += 12;
                } else {
                    totalRelevance += 8;
                }
                break;
            }
        }
    }
    // Base score from match count
    const matchScore = Math.min(50, matchCount * 10);
    // Relevance bonus
    const relevanceScore = Math.min(50, totalRelevance);
    return Math.min(100, matchScore + relevanceScore);
}
/**
 * Calculate company tier score (0-100)
 * Top-tier companies expect higher difficulty
 */ function calculateCompaniesScore(targetCompanies) {
    if (!targetCompanies || targetCompanies.length === 0) return 50;
    const normalizedCompanies = targetCompanies.map((c)=>c.toLowerCase().trim());
    let topTierCount = 0;
    for (const company of normalizedCompanies){
        if (TOP_TIER_COMPANIES.some((tc)=>company.includes(tc) || tc.includes(company))) {
            topTierCount++;
        }
    }
    const topTierRatio = topTierCount / targetCompanies.length;
    // If mostly top-tier companies, expect higher difficulty
    if (topTierRatio >= 0.7) return 85;
    if (topTierRatio >= 0.5) return 70;
    if (topTierRatio >= 0.3) return 55;
    if (topTierRatio > 0) return 45;
    return 40;
}
/**
 * Calculate resume score based on ATS analysis (0-100)
 */ function calculateResumeScore(resume) {
    if (!resume) return 50;
    let score = 50;
    // ATS score contribution
    if (resume.atsScore) {
        score = resume.atsScore * 0.5;
    }
    // Keywords analysis
    if (resume.keywords && resume.keywords.length > 0) {
        const normalizedKeywords = resume.keywords.map((k)=>k.toLowerCase());
        let relevantKeywords = 0;
        for (const keyword of normalizedKeywords){
            if (SYSTEM_DESIGN_SKILLS.some((s)=>keyword.includes(s) || s.includes(keyword))) {
                relevantKeywords++;
            }
        }
        score += Math.min(30, relevantKeywords * 5);
    }
    // Experience level from analysis
    if (resume.analysis?.experienceLevel) {
        const level = resume.analysis.experienceLevel.toLowerCase();
        if (level.includes("senior") || level.includes("lead") || level.includes("principal")) {
            score += 20;
        } else if (level.includes("mid") || level.includes("intermediate")) {
            score += 10;
        }
    }
    return Math.min(100, score);
}
/**
 * Convert selected difficulty to score (0-100)
 */ function selectedDifficultyToScore(difficulty) {
    switch(difficulty){
        case "easy":
            return 33;
        case "medium":
            return 66;
        case "hard":
            return 100;
        default:
            return 50;
    }
}
/**
 * Convert total score to difficulty level
 */ function scoreToDifficulty(score) {
    if (score < 40) return "easy";
    if (score < 70) return "medium";
    return "hard";
}
/**
 * Generate adjustment reason based on the calculation
 */ function generateAdjustmentReason(selected, calculated, breakdown) {
    if (selected === calculated) {
        return "Your selected difficulty matches your profile. No adjustment needed.";
    }
    const reasons = [];
    if (selected === "hard" && calculated !== "hard") {
        if (breakdown.experienceScore < 50) {
            reasons.push("your experience level suggests building more foundation first");
        }
        if (breakdown.skillsScore < 50) {
            reasons.push("developing more system design skills would help");
        }
        if (breakdown.resumeScore < 50) {
            reasons.push("your resume indicates room for technical growth");
        }
    } else if (selected === "easy" && calculated !== "easy") {
        if (breakdown.experienceScore > 60) {
            reasons.push("your experience qualifies you for more challenge");
        }
        if (breakdown.skillsScore > 60) {
            reasons.push("your skills indicate strong system design knowledge");
        }
        if (breakdown.companiesScore > 70) {
            reasons.push("your target companies have rigorous interviews");
        }
    }
    if (reasons.length === 0) {
        return `Adjusted from ${selected} to ${calculated} based on your overall profile analysis.`;
    }
    return `Adjusted from ${selected} to ${calculated} because ${reasons.join(" and ")}.`;
}
/**
 * Generate recommendations based on profile analysis
 */ function generateRecommendations(breakdown, profile) {
    const recommendations = [];
    if (breakdown.experienceScore < 40) {
        recommendations.push("Focus on building practical experience with distributed systems");
    }
    if (breakdown.skillsScore < 50) {
        recommendations.push("Study core system design concepts: caching, sharding, load balancing");
        recommendations.push("Practice designing systems like URL shortener, rate limiter, chat app");
    }
    if (breakdown.companiesScore > 70 && breakdown.totalScore < 60) {
        recommendations.push("Your target companies have high bars - consider more preparation");
        recommendations.push("Review system design case studies from FAANG interviews");
    }
    if (breakdown.resumeScore < 50) {
        recommendations.push("Update your resume to highlight system design experience");
    }
    if (!profile?.skills || profile.skills.length < 3) {
        recommendations.push("Add more skills to your profile for better question personalization");
    }
    if (recommendations.length === 0) {
        recommendations.push("You're well-prepared! Focus on articulating your thoughts clearly");
    }
    return recommendations.slice(0, 4);
}
function calculateSmartDifficulty(input) {
    const { selectedDifficulty, profile, resume } = input;
    // Calculate individual scores
    const experienceScore = calculateExperienceScore(profile?.yearsExperience);
    const skillsScore = calculateSkillsScore(profile?.skills);
    const companiesScore = calculateCompaniesScore(profile?.targetCompanies);
    const resumeScore = calculateResumeScore(resume);
    const selectedScore = selectedDifficultyToScore(selectedDifficulty);
    // Calculate weighted total
    const totalScore = experienceScore * WEIGHTS.experience + skillsScore * WEIGHTS.skills + companiesScore * WEIGHTS.companies + resumeScore * WEIGHTS.resume + selectedScore * WEIGHTS.selected;
    const breakdown = {
        experienceScore: Math.round(experienceScore),
        skillsScore: Math.round(skillsScore),
        companiesScore: Math.round(companiesScore),
        resumeScore: Math.round(resumeScore),
        selectedScore: Math.round(selectedScore),
        totalScore: Math.round(totalScore)
    };
    const calculatedDifficulty = scoreToDifficulty(totalScore);
    // Confidence score based on how much data we have
    let confidenceScore = 50;
    if (profile?.yearsExperience) confidenceScore += 15;
    if (profile?.skills && profile.skills.length > 0) confidenceScore += 15;
    if (profile?.targetCompanies && profile.targetCompanies.length > 0) confidenceScore += 10;
    if (resume?.atsScore) confidenceScore += 10;
    return {
        calculatedDifficulty,
        confidenceScore: Math.min(100, confidenceScore),
        adjustmentReason: generateAdjustmentReason(selectedDifficulty, calculatedDifficulty, breakdown),
        breakdown,
        recommendations: generateRecommendations(breakdown, profile)
    };
}
function getDifficultyDescription(difficulty) {
    switch(difficulty){
        case "easy":
            return "Entry-level: Focus on fundamental concepts, provide hints when stuck, allow more time for thinking, cover basic system design patterns.";
        case "medium":
            return "Mid-level: Balance guidance with challenge, expect knowledge of common patterns, probe on trade-offs, moderate depth on scalability.";
        case "hard":
            return "Senior-level: Minimal hints, expect precise technical answers, deep-dive on edge cases, challenge all design decisions, cover advanced patterns.";
        default:
            return "Standard difficulty level.";
    }
}
}),
"[project]/Documents/Git/system-design/system-design-simulator/src/lib/question-generator.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "buildPersonalizedInterviewerPrompt",
    ()=>buildPersonalizedInterviewerPrompt,
    "generatePersonalizedQuestions",
    ()=>generatePersonalizedQuestions
]);
/**
 * Personalized Question Generator
 *
 * Uses Ollama (local LLM) to generate interview questions tailored to user's profile,
 * skills, experience, and target companies.
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$ollama$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/src/lib/ollama.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$difficulty$2d$calculator$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/src/lib/difficulty-calculator.ts [app-route] (ecmascript)");
;
;
/**
 * Build context string from user profile
 */ function buildProfileContext(profile) {
    if (!profile) return "No profile data available.";
    const parts = [];
    if (profile.yearsExperience) {
        parts.push(`Years of experience: ${profile.yearsExperience}`);
    }
    if (profile.targetRole) {
        parts.push(`Target role: ${profile.targetRole}`);
    }
    if (profile.skills && profile.skills.length > 0) {
        parts.push(`Technical skills: ${profile.skills.join(", ")}`);
    }
    if (profile.targetCompanies && profile.targetCompanies.length > 0) {
        parts.push(`Target companies: ${profile.targetCompanies.join(", ")}`);
    }
    if (profile.bio) {
        parts.push(`Background: ${profile.bio}`);
    }
    return parts.length > 0 ? parts.join("\n") : "Limited profile data available.";
}
/**
 * Build context string from resume
 */ function buildResumeContext(resume) {
    if (!resume) return "No resume data available.";
    const parts = [];
    if (resume.atsScore) {
        parts.push(`ATS Score: ${resume.atsScore}/100`);
    }
    if (resume.keywords && resume.keywords.length > 0) {
        parts.push(`Key technical keywords: ${resume.keywords.slice(0, 15).join(", ")}`);
    }
    if (resume.predictedRoles && resume.predictedRoles.length > 0) {
        parts.push(`Predicted suitable roles: ${resume.predictedRoles.join(", ")}`);
    }
    if (resume.analysis) {
        if (resume.analysis.experienceLevel) {
            parts.push(`Experience level: ${resume.analysis.experienceLevel}`);
        }
        if (resume.analysis.technicalDepth) {
            parts.push(`Technical depth: ${resume.analysis.technicalDepth}`);
        }
        if (resume.analysis.systemDesignExperience) {
            parts.push(`System design experience: ${resume.analysis.systemDesignExperience}`);
        }
    }
    return parts.length > 0 ? parts.join("\n") : "Limited resume data available.";
}
/**
 * Generate the question generation prompt
 */ function buildQuestionPrompt(input) {
    const { topic, difficulty, profile, resume } = input;
    const profileContext = buildProfileContext(profile);
    const resumeContext = buildResumeContext(resume);
    const difficultyDesc = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$difficulty$2d$calculator$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getDifficultyDescription"])(difficulty);
    return `You are an expert system design interview question generator for top tech companies (FAANG+).

Generate a personalized set of system design interview questions for the topic: "${topic}"

## Candidate Profile
${profileContext}

## Resume Analysis
${resumeContext}

## Interview Parameters
- Difficulty Level: ${difficulty.toUpperCase()}
- ${difficultyDesc}
- Total Interview Duration: 45 minutes

## Question Generation Guidelines

1. **Personalization**: Tailor questions to the candidate's skills and experience level.
   - If they have specific skills (e.g., Kafka, Redis), include questions that let them showcase these.
   - If they're targeting specific companies, align question style with those companies' interview patterns.

2. **Difficulty Calibration**:
   - EASY: Focus on fundamentals, basic patterns, straightforward requirements
   - MEDIUM: Include trade-off discussions, moderate scale, some edge cases
   - HARD: Complex scenarios, extreme scale, failure modes, advanced optimizations

3. **Coverage**: Questions should cover all phases:
   - Requirements Clarification (8 min): Scope, scale, constraints
   - High-Level Design (12 min): Architecture, components, data flow
   - Deep Dive (12 min): Specific component design, data models
   - Scalability (10 min): Growth, optimization, trade-offs
   - Trade-offs (3 min): Summary, alternatives considered

4. **Question Types to Include**:
   - Clarifying questions the interviewer should ask
   - Follow-up probes based on expected answers
   - Edge cases and failure scenarios
   - Scaling challenges specific to the system

## Output Format
Return a JSON object with the following structure:
{
  "questions": [
    {
      "id": "q1",
      "question": "The main question text",
      "category": "requirements|high-level|deep-dive|scalability|trade-offs",
      "difficulty": "easy|medium|hard",
      "focusAreas": ["area1", "area2"],
      "expectedTopics": ["topic candidate should mention"],
      "timeAllocation": 5
    }
  ],
  "focusAreas": ["Overall focus areas based on candidate profile"],
  "personalizationNotes": "How questions were personalized for this candidate",
  "interviewerContext": "Context for the AI interviewer about this candidate's background"
}

Generate 8-12 questions covering all categories. Ensure the total time allocation sums to approximately 45 minutes.`;
}
/**
 * Parse OpenAI response into structured format
 */ function parseQuestionResponse(response) {
    try {
        // Try to extract JSON from the response
        const jsonMatch = response.match(/\{[\s\S]*\}/);
        if (jsonMatch) {
            return JSON.parse(jsonMatch[0]);
        }
        throw new Error("No JSON found in response");
    } catch (error) {
        console.error("Failed to parse question response:", error);
        return {
            questions: [],
            focusAreas: [],
            personalizationNotes: "Failed to generate personalized questions",
            interviewerContext: ""
        };
    }
}
async function generatePersonalizedQuestions(input) {
    const prompt = buildQuestionPrompt(input);
    try {
        const completion = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$ollama$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ollamaChat"])({
            messages: [
                {
                    role: "system",
                    content: "You are an expert system design interview question generator. Always respond with valid JSON only, no additional text."
                },
                {
                    role: "user",
                    content: prompt
                }
            ],
            temperature: 0.7,
            max_tokens: 2500
        });
        const responseText = completion.message?.content || "";
        const parsed = parseQuestionResponse(responseText);
        return {
            topic: input.topic,
            difficulty: input.difficulty,
            totalDuration: 45,
            questions: parsed.questions || [],
            focusAreas: parsed.focusAreas || [],
            personalizationNotes: parsed.personalizationNotes || "",
            interviewerContext: parsed.interviewerContext || ""
        };
    } catch (error) {
        console.error("Ollama question generation error:", error);
        // Return fallback questions
        return generateFallbackQuestions(input);
    }
}
/**
 * Generate fallback questions if Ollama fails
 */ function generateFallbackQuestions(input) {
    const { topic, difficulty } = input;
    const baseQuestions = [
        {
            id: "q1",
            question: `Let's design ${topic}. Before we start, what clarifying questions would you like to ask about the requirements?`,
            category: "requirements",
            difficulty,
            focusAreas: [
                "scope",
                "constraints",
                "users"
            ],
            expectedTopics: [
                "scale",
                "features",
                "non-functional requirements"
            ],
            timeAllocation: 8
        },
        {
            id: "q2",
            question: "Can you walk me through the high-level architecture? What are the main components?",
            category: "high-level",
            difficulty,
            focusAreas: [
                "architecture",
                "components"
            ],
            expectedTopics: [
                "clients",
                "servers",
                "databases",
                "caches"
            ],
            timeAllocation: 12
        },
        {
            id: "q3",
            question: "Let's dive deeper into the data model. How would you structure the database?",
            category: "deep-dive",
            difficulty,
            focusAreas: [
                "data modeling",
                "storage"
            ],
            expectedTopics: [
                "tables",
                "relationships",
                "indexes"
            ],
            timeAllocation: 6
        },
        {
            id: "q4",
            question: "How would you handle the core functionality? Walk me through the main flow.",
            category: "deep-dive",
            difficulty,
            focusAreas: [
                "implementation",
                "algorithms"
            ],
            expectedTopics: [
                "API design",
                "business logic"
            ],
            timeAllocation: 6
        },
        {
            id: "q5",
            question: "How would you scale this system to handle 10x or 100x the current load?",
            category: "scalability",
            difficulty,
            focusAreas: [
                "scaling",
                "performance"
            ],
            expectedTopics: [
                "horizontal scaling",
                "caching",
                "sharding"
            ],
            timeAllocation: 5
        },
        {
            id: "q6",
            question: "What are the potential bottlenecks and how would you address them?",
            category: "scalability",
            difficulty,
            focusAreas: [
                "bottlenecks",
                "optimization"
            ],
            expectedTopics: [
                "database",
                "network",
                "compute"
            ],
            timeAllocation: 5
        },
        {
            id: "q7",
            question: "What trade-offs did you make in your design? Would you change anything?",
            category: "trade-offs",
            difficulty,
            focusAreas: [
                "trade-offs",
                "alternatives"
            ],
            expectedTopics: [
                "consistency vs availability",
                "cost vs performance"
            ],
            timeAllocation: 3
        }
    ];
    return {
        topic,
        difficulty,
        totalDuration: 45,
        questions: baseQuestions,
        focusAreas: [
            "System Design Fundamentals",
            "Scalability",
            "Trade-offs"
        ],
        personalizationNotes: "Using standard question set due to limited personalization data",
        interviewerContext: `Interviewing for ${topic} at ${difficulty} difficulty level.`
    };
}
function buildPersonalizedInterviewerPrompt(questionSet, profile) {
    const { topic, difficulty, interviewerContext, focusAreas, personalizationNotes } = questionSet;
    const skillsContext = profile?.skills?.length ? `The candidate has experience with: ${profile.skills.join(", ")}.` : "";
    const experienceContext = profile?.yearsExperience ? `They have ${profile.yearsExperience} years of experience.` : "";
    const companiesContext = profile?.targetCompanies?.length ? `They are targeting companies like: ${profile.targetCompanies.join(", ")}.` : "";
    return `You are Bobby, a friendly and experienced senior software engineer conducting a 45-minute system design interview at a top tech company. You have 10+ years of experience building large-scale distributed systems.

## Interview Topic: ${topic}
## Difficulty: ${difficulty.toUpperCase()}

## Candidate Context
${interviewerContext}
${skillsContext}
${experienceContext}
${companiesContext}

## Personalization Notes
${personalizationNotes}

## Focus Areas for This Interview
${focusAreas.map((area)=>`- ${area}`).join("\n")}

## Interview Guidelines

1. **Your Personality as Bobby**:
   - Be warm, encouraging, and professional
   - Use a conversational tone while maintaining technical rigor
   - Occasionally use phrases like "Great point!", "That's interesting...", "I like that approach"

2. **Adapt to the Candidate**: Use their background to ask relevant follow-up questions.
   - If they mention technologies they know, probe deeper on those.
   - If they're junior, provide more guidance; if senior, expect more depth.

3. **Difficulty Calibration**:
   ${difficulty === "easy" ? "- Be supportive and provide hints when the candidate is stuck" : ""}
   ${difficulty === "medium" ? "- Balance guidance with challenge, probe on trade-offs" : ""}
   ${difficulty === "hard" ? "- Be rigorous, expect precise answers, challenge all decisions" : ""}

4. **Phase Management**: Guide through all phases:
   - Requirements (8 min) â†’ High-Level Design (12 min) â†’ Deep Dive (12 min) â†’ Scalability (10 min) â†’ Wrap-up (3 min)

5. **Question Style**:
   - Keep responses concise (2-4 sentences)
   - Ask one question at a time
   - Acknowledge good points before probing deeper
   - Use "[PHASE_TRANSITION: phase-id]" to signal phase changes

6. **Personalized Probing**:
   - If candidate mentions their known technologies, ask how they'd apply them
   - For target company alignment, use similar question patterns those companies use

Start by introducing yourself as Bobby, mention you're excited to discuss ${topic} with them, and ask the first clarifying question about requirements.`;
}
}),
"[project]/Documents/Git/system-design/system-design-simulator/src/app/api/interview/personalized/route.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

return __turbopack_context__.a(async (__turbopack_handle_async_dependencies__, __turbopack_async_result__) => { try {

__turbopack_context__.s([
    "GET",
    ()=>GET,
    "POST",
    ()=>POST
]);
/**
 * Personalized Interview API
 *
 * Creates an interview with smart difficulty adjustment and personalized questions
 * based on user profile, skills, experience, and resume analysis.
 *
 * POST /api/interview/personalized
 * Body: { topic: string, selectedDifficulty: "easy" | "medium" | "hard" }
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/node_modules/next/server.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/src/lib/auth.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/src/lib/prisma.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$ollama$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/src/lib/ollama.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$difficulty$2d$calculator$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/src/lib/difficulty-calculator.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$question$2d$generator$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/Documents/Git/system-design/system-design-simulator/src/lib/question-generator.ts [app-route] (ecmascript)");
var __turbopack_async_dependencies__ = __turbopack_handle_async_dependencies__([
    __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__,
    __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__
]);
[__TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__] = __turbopack_async_dependencies__.then ? (await __turbopack_async_dependencies__)() : __turbopack_async_dependencies__;
;
;
;
;
;
;
async function POST(request) {
    try {
        // 1. Authenticate user
        const session = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["auth"])();
        if (!session?.user?.id) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                error: "Unauthorized"
            }, {
                status: 401
            });
        }
        // 2. Parse request body
        const body = await request.json();
        const { topic, selectedDifficulty = "medium" } = body;
        if (!topic) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                error: "Topic is required"
            }, {
                status: 400
            });
        }
        // Validate difficulty
        const validDifficulties = [
            "easy",
            "medium",
            "hard"
        ];
        if (!validDifficulties.includes(selectedDifficulty)) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                error: "Invalid difficulty level"
            }, {
                status: 400
            });
        }
        // 3. Fetch user profile
        const profile = await __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].profile.findUnique({
            where: {
                userId: session.user.id
            }
        });
        // 4. Fetch latest resume
        const latestResume = await __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].resume.findFirst({
            where: {
                userId: session.user.id
            },
            orderBy: {
                uploadedAt: "desc"
            }
        });
        // 5. Parse profile data
        const profileData = profile ? {
            yearsExperience: profile.yearsExperience,
            skills: profile.skills ? JSON.parse(profile.skills) : [],
            targetCompanies: profile.targetCompanies ? JSON.parse(profile.targetCompanies) : [],
            targetRole: profile.targetRole,
            bio: profile.bio
        } : null;
        // 6. Parse resume data
        const resumeData = latestResume ? {
            content: latestResume.content,
            atsScore: latestResume.atsScore,
            keywords: latestResume.keywords ? JSON.parse(latestResume.keywords) : [],
            predictedRoles: latestResume.predictedRoles ? JSON.parse(latestResume.predictedRoles) : [],
            analysis: latestResume.analysis ? JSON.parse(latestResume.analysis) : null
        } : null;
        // 7. Calculate smart difficulty
        const difficultyResult = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$difficulty$2d$calculator$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["calculateSmartDifficulty"])({
            selectedDifficulty,
            profile: profileData,
            resume: resumeData,
            topic
        });
        const actualDifficulty = difficultyResult.calculatedDifficulty;
        // 8. Generate personalized questions
        const questionSet = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$question$2d$generator$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["generatePersonalizedQuestions"])({
            topic,
            difficulty: actualDifficulty,
            profile: profileData,
            resume: resumeData
        });
        // 9. Build personalized interviewer prompt
        const interviewerPrompt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$question$2d$generator$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["buildPersonalizedInterviewerPrompt"])(questionSet, profileData);
        // 10. Create interview record
        const interview = await __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].interview.create({
            data: {
                userId: session.user.id,
                topic,
                difficulty: actualDifficulty,
                status: "in_progress",
                startedAt: new Date()
            }
        });
        // 11. Generate initial interviewer message using Ollama
        const initialCompletion = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$ollama$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["ollamaChat"])({
            messages: [
                {
                    role: "system",
                    content: interviewerPrompt
                },
                {
                    role: "user",
                    content: "Start the interview."
                }
            ],
            max_tokens: 500,
            temperature: 0.7
        });
        const initialMessage = initialCompletion.message?.content || `Hey there! I'm Bobby, and I'll be your interviewer today. I'm excited to discuss ${topic} with you! Let's start with some clarifying questions - what's the first thing you'd want to understand about the requirements?`;
        // 12. Save messages to database
        await __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].message.createMany({
            data: [
                {
                    interviewId: interview.id,
                    role: "system",
                    content: interviewerPrompt
                },
                {
                    interviewId: interview.id,
                    role: "assistant",
                    content: initialMessage
                }
            ]
        });
        // 13. Return response
        return __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            success: true,
            interview: {
                id: interview.id,
                topic: interview.topic,
                difficulty: interview.difficulty,
                status: interview.status,
                startedAt: interview.startedAt
            },
            initialMessage,
            personalization: {
                selectedDifficulty,
                calculatedDifficulty: actualDifficulty,
                wasAdjusted: selectedDifficulty !== actualDifficulty,
                adjustmentReason: difficultyResult.adjustmentReason,
                confidenceScore: difficultyResult.confidenceScore,
                breakdown: difficultyResult.breakdown,
                recommendations: difficultyResult.recommendations
            },
            questionSet: {
                focusAreas: questionSet.focusAreas,
                personalizationNotes: questionSet.personalizationNotes,
                questionCount: questionSet.questions.length
            }
        });
    } catch (error) {
        console.error("Personalized interview creation error:", error);
        return __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            error: "Failed to create personalized interview"
        }, {
            status: 500
        });
    }
}
async function GET(request) {
    try {
        const session = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["auth"])();
        if (!session?.user?.id) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
                error: "Unauthorized"
            }, {
                status: 401
            });
        }
        const { searchParams } = new URL(request.url);
        const selectedDifficulty = searchParams.get("difficulty") || "medium";
        const topic = searchParams.get("topic") || "System Design";
        // Fetch user data
        const profile = await __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].profile.findUnique({
            where: {
                userId: session.user.id
            }
        });
        const latestResume = await __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].resume.findFirst({
            where: {
                userId: session.user.id
            },
            orderBy: {
                uploadedAt: "desc"
            }
        });
        // Parse data
        const profileData = profile ? {
            yearsExperience: profile.yearsExperience,
            skills: profile.skills ? JSON.parse(profile.skills) : [],
            targetCompanies: profile.targetCompanies ? JSON.parse(profile.targetCompanies) : [],
            targetRole: profile.targetRole,
            bio: profile.bio
        } : null;
        const resumeData = latestResume ? {
            content: latestResume.content,
            atsScore: latestResume.atsScore,
            keywords: latestResume.keywords ? JSON.parse(latestResume.keywords) : [],
            predictedRoles: latestResume.predictedRoles ? JSON.parse(latestResume.predictedRoles) : [],
            analysis: latestResume.analysis ? JSON.parse(latestResume.analysis) : null
        } : null;
        // Calculate difficulty
        const difficultyResult = (0, __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$src$2f$lib$2f$difficulty$2d$calculator$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["calculateSmartDifficulty"])({
            selectedDifficulty,
            profile: profileData,
            resume: resumeData,
            topic
        });
        return __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            selectedDifficulty,
            calculatedDifficulty: difficultyResult.calculatedDifficulty,
            wasAdjusted: selectedDifficulty !== difficultyResult.calculatedDifficulty,
            adjustmentReason: difficultyResult.adjustmentReason,
            confidenceScore: difficultyResult.confidenceScore,
            breakdown: difficultyResult.breakdown,
            recommendations: difficultyResult.recommendations,
            profileSummary: {
                hasProfile: !!profile,
                hasResume: !!latestResume,
                yearsExperience: profileData?.yearsExperience || null,
                skillsCount: profileData?.skills?.length || 0,
                targetCompaniesCount: profileData?.targetCompanies?.length || 0
            }
        });
    } catch (error) {
        console.error("Difficulty preview error:", error);
        return __TURBOPACK__imported__module__$5b$project$5d2f$Documents$2f$Git$2f$system$2d$design$2f$system$2d$design$2d$simulator$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            error: "Failed to calculate difficulty"
        }, {
            status: 500
        });
    }
}
__turbopack_async_result__();
} catch(e) { __turbopack_async_result__(e); } }, false);}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__ad16c199._.js.map