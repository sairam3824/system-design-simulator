(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67522,e=>{"use strict";let t=(0,e.i(31957).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],67522)},85592,e=>{"use strict";let t=(0,e.i(31957).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],85592)},39067,45468,e=>{"use strict";var t,r,s=e.i(26969),n=e.i(39431),a=e.i(42458);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e){return function t(){for(var r=this,s=arguments.length,n=Array(s),a=0;a<s;a++)n[a]=arguments[a];return n.length>=e.length?e.apply(this,n):function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return t.apply(r,[].concat(n,s))}}}function d(e){return({}).toString.call(e).includes("Object")}function u(e){return"function"==typeof e}var m=o(function(e,t){throw Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),h=function(e,t){return d(t)||m("changeType"),Object.keys(t).some(function(t){return!Object.prototype.hasOwnProperty.call(e,t)})&&m("changeField"),t},f=function(e){u(e)||m("selectorType")},g=function(e){u(e)||d(e)||m("handlerType"),d(e)&&Object.values(e).some(function(e){return!u(e)})&&m("handlersType")},p=function(e){e||m("initialIsRequired"),d(e)||m("initialType"),Object.keys(e).length||m("initialContent")};function x(e,t){return u(t)?t(e.current):t}function y(e,t){return e.current=c(c({},e.current),t),t}function b(e,t,r){return u(t)?t(e.current):Object.keys(r).forEach(function(r){var s;return null==(s=t[r])?void 0:s.call(t,e.current[r])}),r}var j={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},v=(t=function(e,t){throw Error(e[t]||e.default)},function e(){for(var r=this,s=arguments.length,n=Array(s),a=0;a<s;a++)n[a]=arguments[a];return n.length>=t.length?t.apply(this,n):function(){for(var t=arguments.length,s=Array(t),a=0;a<t;a++)s[a]=arguments[a];return e.apply(r,[].concat(n,s))}})(j),N=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},w={type:"cancelation",msg:"operation is manually canceled"};function S(e){var t=!1,r=new Promise(function(r,s){e.then(function(e){return t?s(w):r(e)}),e.catch(s)});return r.cancel=function(){return t=!0},r}var C=function(e){if(Array.isArray(e))return e}(r=({create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(e),g(t);var r={current:e},s=o(b)(r,t),n=o(y)(r),a=o(h)(e),i=o(x)(r);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return f(e),e(r.current)},function(e){(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}})(s,n,a,i)(e)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e,t){var r=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,n,a,i,l=[],c=!0,o=!1;try{a=(r=r.call(e)).next,!1;for(;!(c=(s=a.call(r)).done)&&(l.push(s.value),2!==l.length);c=!0);}catch(e){o=!0,n=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(o)throw n}}return l}}(r,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,2):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),k=C[0],T=C[1];function E(e){return document.body.appendChild(e)}function M(e){var t,r,s=k(function(e){return{config:e.config,reject:e.reject}}),n=(t="".concat(s.config.paths.vs,"/loader.js"),r=document.createElement("script"),t&&(r.src=t),r);return n.onload=function(){return e()},n.onerror=s.reject,n}function O(){var e=k(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){var r=t.m||t;A(r),e.resolve(r)},function(t){e.reject(t)})}function A(e){k().monaco||T({monaco:e})}var R=new Promise(function(e,t){return T({resolve:e,reject:t})}),P=function(){var e=k(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(T({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),S(R);if(window.monaco&&window.monaco.editor)return A(window.monaco),e.resolve(window.monaco),S(R);N(E,M)(O)}return S(R)},_={display:"flex",position:"relative",textAlign:"initial"},L={width:"100%"},I={display:"none"},$={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},F=function({children:e}){return a.default.createElement("div",{style:$},e)},B=(0,a.memo)(function({width:e,height:t,isEditorReady:r,loading:s,_ref:n,className:i,wrapperProps:l}){return a.default.createElement("section",{style:{..._,width:e,height:t},...l},!r&&a.default.createElement(F,null,s),a.default.createElement("div",{ref:n,style:{...L,...!r&&I},className:i}))}),z=function(e){(0,a.useEffect)(e,[])},V=function(e,t,r=!0){let s=(0,a.useRef)(!0);(0,a.useEffect)(s.current||!r?()=>{s.current=!1}:e,t)};function D(){}function U(e,t,r,s){var n,a,i,l,c,o;return n=e,a=s,n.editor.getModel(q(n,a))||(i=e,l=t,c=r,o=s,i.editor.createModel(l,c,o?q(i,o):void 0))}function q(e,t){return e.Uri.parse(t)}(0,a.memo)(function({original:e,modified:t,language:r,originalLanguage:s,modifiedLanguage:n,originalModelPath:i,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:o=!1,theme:d="light",loading:u="Loading...",options:m={},height:h="100%",width:f="100%",className:g,wrapperProps:p={},beforeMount:x=D,onMount:y=D}){let[b,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!0),w=(0,a.useRef)(null),S=(0,a.useRef)(null),C=(0,a.useRef)(null),k=(0,a.useRef)(y),T=(0,a.useRef)(x),E=(0,a.useRef)(!1);z(()=>{let e=P();return e.then(e=>(S.current=e)&&N(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>{let t;return w.current?(t=w.current?.getModel(),void(c||t?.original?.dispose(),o||t?.modified?.dispose(),w.current?.dispose())):e.cancel()}}),V(()=>{if(w.current&&S.current){let t=w.current.getOriginalEditor(),n=U(S.current,e||"",s||r||"text",i||"");n!==t.getModel()&&t.setModel(n)}},[i],b),V(()=>{if(w.current&&S.current){let e=w.current.getModifiedEditor(),s=U(S.current,t||"",n||r||"text",l||"");s!==e.getModel()&&e.setModel(s)}},[l],b),V(()=>{let e=w.current.getModifiedEditor();e.getOption(S.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[t],b),V(()=>{w.current?.getModel()?.original.setValue(e||"")},[e],b),V(()=>{let{original:e,modified:t}=w.current.getModel();S.current.editor.setModelLanguage(e,s||r||"text"),S.current.editor.setModelLanguage(t,n||r||"text")},[r,s,n],b),V(()=>{S.current?.editor.setTheme(d)},[d],b),V(()=>{w.current?.updateOptions(m)},[m],b);let M=(0,a.useCallback)(()=>{if(!S.current)return;T.current(S.current);let a=U(S.current,e||"",s||r||"text",i||""),c=U(S.current,t||"",n||r||"text",l||"");w.current?.setModel({original:a,modified:c})},[r,t,n,e,s,i,l]),O=(0,a.useCallback)(()=>{!E.current&&C.current&&(w.current=S.current.editor.createDiffEditor(C.current,{automaticLayout:!0,...m}),M(),S.current?.editor.setTheme(d),j(!0),E.current=!0)},[m,d,M]);return(0,a.useEffect)(()=>{b&&k.current(w.current,S.current)},[b]),(0,a.useEffect)(()=>{v||b||O()},[v,b,O]),a.default.createElement(B,{width:f,height:h,isEditorReady:b,loading:u,_ref:C,className:g,wrapperProps:p})});var H=function(e){let t=(0,a.useRef)();return(0,a.useEffect)(()=>{t.current=e},[e]),t.current},G=new Map,J=(0,a.memo)(function({defaultValue:e,defaultLanguage:t,defaultPath:r,value:s,language:n,path:i,theme:l="light",line:c,loading:o="Loading...",options:d={},overrideServices:u={},saveViewState:m=!0,keepCurrentModel:h=!1,width:f="100%",height:g="100%",className:p,wrapperProps:x={},beforeMount:y=D,onMount:b=D,onChange:j,onValidate:v=D}){let[N,w]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!0),k=(0,a.useRef)(null),T=(0,a.useRef)(null),E=(0,a.useRef)(null),M=(0,a.useRef)(b),O=(0,a.useRef)(y),A=(0,a.useRef)(),R=(0,a.useRef)(s),_=H(i),L=(0,a.useRef)(!1),I=(0,a.useRef)(!1);z(()=>{let e=P();return e.then(e=>(k.current=e)&&C(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>T.current?void(A.current?.dispose(),h?m&&G.set(i,T.current.saveViewState()):T.current.getModel()?.dispose(),T.current.dispose()):e.cancel()}),V(()=>{let a=U(k.current,e||s||"",t||n||"",i||r||"");a!==T.current?.getModel()&&(m&&G.set(_,T.current?.saveViewState()),T.current?.setModel(a),m&&T.current?.restoreViewState(G.get(i)))},[i],N),V(()=>{T.current?.updateOptions(d)},[d],N),V(()=>{T.current&&void 0!==s&&(T.current.getOption(k.current.editor.EditorOption.readOnly)?T.current.setValue(s):s!==T.current.getValue()&&(I.current=!0,T.current.executeEdits("",[{range:T.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),T.current.pushUndoStop(),I.current=!1))},[s],N),V(()=>{let e=T.current?.getModel();e&&n&&k.current?.editor.setModelLanguage(e,n)},[n],N),V(()=>{void 0!==c&&T.current?.revealLine(c)},[c],N),V(()=>{k.current?.editor.setTheme(l)},[l],N);let $=(0,a.useCallback)(()=>{if(!(!E.current||!k.current)&&!L.current){O.current(k.current);let a=i||r,o=U(k.current,s||e||"",t||n||"",a||"");T.current=k.current?.editor.create(E.current,{model:o,automaticLayout:!0,...d},u),m&&T.current.restoreViewState(G.get(a)),k.current.editor.setTheme(l),void 0!==c&&T.current.revealLine(c),w(!0),L.current=!0}},[e,t,r,s,n,i,d,u,m,l,c]);return(0,a.useEffect)(()=>{N&&M.current(T.current,k.current)},[N]),(0,a.useEffect)(()=>{S||N||$()},[S,N,$]),R.current=s,(0,a.useEffect)(()=>{N&&j&&(A.current?.dispose(),A.current=T.current?.onDidChangeModelContent(e=>{I.current||j(T.current.getValue(),e)}))},[N,j]),(0,a.useEffect)(()=>{if(N){let e=k.current.editor.onDidChangeMarkers(e=>{let t=T.current.getModel()?.uri;if(t&&e.find(e=>e.path===t.path)){let e=k.current.editor.getModelMarkers({resource:t});v?.(e)}});return()=>{e?.dispose()}}return()=>{}},[N,v]),a.default.createElement(B,{width:f,height:g,isEditorReady:N,loading:o,_ref:E,className:p,wrapperProps:x})}),W=e.i(92370);function Q(e){let t,r,i,l,c,o,d,u,m=(0,n.c)(15),{language:h,value:f,onChange:g,readOnly:p,height:x}=e,y=void 0!==p&&p,b=void 0===x?"100%":x,j=(0,a.useRef)(null);m[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{j.current=e,e.focus()},m[0]=t):t=m[0];let v=t;m[1]!==g?(r=e=>{void 0!==e&&g(e)},m[1]=g,m[2]=r):r=m[2];let N=r,w=W.SUPPORTED_LANGUAGES[h]?.monacoId||"plaintext";return m[3]===Symbol.for("react.memo_cache_sentinel")?(i={enabled:!1},m[3]=i):i=m[3],m[4]===Symbol.for("react.memo_cache_sentinel")?(l={top:10,bottom:10},m[4]=l):l=m[4],m[5]===Symbol.for("react.memo_cache_sentinel")?(c={enabled:!0},o={showKeywords:!0,showSnippets:!0},m[5]=c,m[6]=o):(c=m[5],o=m[6]),m[7]!==y?(d={readOnly:y,minimap:i,fontSize:14,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",folding:!0,lineDecorationsWidth:10,lineNumbersMinChars:3,padding:l,renderLineHighlight:"line",cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",smoothScrolling:!0,bracketPairColorization:c,suggest:o},m[7]=y,m[8]=d):d=m[8],m[9]!==N||m[10]!==b||m[11]!==w||m[12]!==d||m[13]!==f?(u=(0,s.jsx)("div",{className:"h-full w-full overflow-hidden rounded-md border border-border",children:(0,s.jsx)(J,{height:b,language:w,value:f,onChange:N,onMount:v,theme:"vs-dark",options:d})}),m[9]=N,m[10]=b,m[11]=w,m[12]=d,m[13]=f,m[14]=u):u=m[14],u}e.s(["CodeEditor",()=>Q],39067);var K=e.i(52494),X=e.i(93686),Y=e.i(95595);function Z(e){let t,r,a,i,l,c,o,d,u,m,h,f,g,p,x,y,b,j,v,N,w,S,C=(0,n.c)(43),{title:k,description:T,difficulty:E,category:M,company:O,visibleTests:A,timeLimit:R}=e;C[0]!==E?(a=({easy:"bg-green-500/10 text-green-500 border-green-500/20",medium:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",hard:"bg-red-500/10 text-red-500 border-red-500/20"})[E]||"bg-gray-500/10 text-gray-500",C[0]=E,C[1]=a):a=C[1];let P=a;C[2]!==k?(i=(0,s.jsx)("h1",{className:"text-xl font-bold",children:k}),C[2]=k,C[3]=i):i=C[3],C[4]!==E?(l=E.charAt(0).toUpperCase(),C[4]=E,C[5]=l):l=C[5];let _=l+E.slice(1);return C[6]!==P||C[7]!==_?(c=(0,s.jsx)(K.Badge,{variant:"outline",className:P,children:_}),C[6]=P,C[7]=_,C[8]=c):c=C[8],C[9]!==M?(o=M.split("-").map(et).join(" "),C[9]=M,C[10]=o):o=C[10],C[11]!==o?(d=(0,s.jsx)(K.Badge,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/20",children:o}),C[11]=o,C[12]=d):d=C[12],C[13]!==O?(u=O&&(0,s.jsx)(K.Badge,{variant:"outline",className:"bg-purple-500/10 text-purple-500 border-purple-500/20",children:O}),C[13]=O,C[14]=u):u=C[14],C[15]!==R?(m=(0,s.jsxs)(K.Badge,{variant:"outline",className:"bg-gray-500/10 text-gray-400 border-gray-500/20",children:[R," min"]}),C[15]=R,C[16]=m):m=C[16],C[17]!==c||C[18]!==d||C[19]!==u||C[20]!==m?(h=(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[c,d,u,m]}),C[17]=c,C[18]=d,C[19]=u,C[20]=m,C[21]=h):h=C[21],C[22]!==h||C[23]!==i?(f=(0,s.jsxs)("div",{children:[i,h]}),C[22]=h,C[23]=i,C[24]=f):f=C[24],C[25]===Symbol.for("react.memo_cache_sentinel")?(g=(0,s.jsx)(Y.Separator,{}),C[25]=g):g=C[25],C[26]!==T?(t=T.split("\n"),r=[],t.forEach((e,t)=>{e.startsWith("**")&&e.endsWith("**")?r.push((0,s.jsx)("div",{className:"font-semibold mt-3 mb-1",children:e.slice(2,-2)},t)):e.startsWith("- ")?r.push((0,s.jsxs)("div",{className:"ml-4 flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"â€¢"}),(0,s.jsx)("span",{children:er(e.slice(2))})]},t)):""===e.trim()?r.push((0,s.jsx)("div",{className:"h-2"},t)):r.push((0,s.jsx)("div",{children:er(e)},t))}),p=r,C[26]=T,C[27]=p):p=C[27],C[28]!==p?(x=(0,s.jsx)("div",{className:"prose prose-invert prose-sm max-w-none",children:(0,s.jsx)("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:p})}),C[28]=p,C[29]=x):x=C[29],C[30]===Symbol.for("react.memo_cache_sentinel")?(y=(0,s.jsx)(Y.Separator,{}),b=(0,s.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Test Cases"}),C[30]=y,C[31]=b):(y=C[30],b=C[31]),C[32]!==A?(j=A.map(ee),C[32]=A,C[33]=j):j=C[33],C[34]!==j?(v=(0,s.jsx)("div",{className:"space-y-3",children:j}),C[34]=j,C[35]=v):v=C[35],C[36]===Symbol.for("react.memo_cache_sentinel")?(N=(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Additional hidden test cases will be used for final evaluation."}),C[36]=N):N=C[36],C[37]!==v?(w=(0,s.jsxs)("div",{children:[b,v,N]}),C[37]=v,C[38]=w):w=C[38],C[39]!==f||C[40]!==x||C[41]!==w?(S=(0,s.jsx)("div",{className:"h-full flex flex-col overflow-hidden",children:(0,s.jsx)(X.ScrollArea,{className:"h-full",children:(0,s.jsxs)("div",{className:"p-4 space-y-4 pb-24",children:[f,g,x,y,w]})})}),C[39]=f,C[40]=x,C[41]=w,C[42]=S):S=C[42],S}function ee(e,t){return(0,s.jsxs)("div",{className:"rounded-lg border border-border bg-card p-3 text-sm",children:[(0,s.jsxs)("div",{className:"font-medium text-muted-foreground mb-2",children:["Test Case ",t+1]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Input: "}),(0,s.jsx)("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:e.input})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Expected: "}),(0,s.jsx)("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:e.expectedOutput})]}),e.explanation&&(0,s.jsx)("div",{className:"text-muted-foreground text-xs mt-1",children:e.explanation})]})]},t)}function et(e){return e.charAt(0).toUpperCase()+e.slice(1)}function er(e){return e.split(/`([^`]+)`/).map((e,t)=>t%2==1?(0,s.jsx)("code",{className:"bg-muted px-1 py-0.5 rounded text-xs",children:e},t):e)}e.s(["ProblemPanel",()=>Z],45468)},67933,e=>{"use strict";var t=e.i(26969),r=e.i(42458),s=e.i(37212),n=e.i(67522),a=e.i(53727),i=e.i(52494),l=e.i(89352),c=e.i(39431),o=e.i(39067),d=e.i(45468),u=e.i(85592),m=e.i(64847),h=e.i(31957);let f=(0,h.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var g=e.i(52776),p=e.i(93686);function x(e){let r,s,n,a,l,o,d,h,x,v,N=(0,c.c)(36),{results:w,isLoading:S,errorMessage:C,syntaxErrors:k,logicAnalysis:T}=e;if(void 0!==S&&S){let e;return N[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex items-center justify-center h-full p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(g.Loader2,{className:"h-5 w-5 animate-spin"}),(0,t.jsx)("span",{children:"Evaluating code... Hold on"})]})}),N[0]=e):e=N[0],e}if(C){let e,r,s,n;return N[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"flex items-center gap-2 text-red-500",children:[(0,t.jsx)(f,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"font-medium",children:"Error"})]}),N[1]=e):e=N[1],N[2]!==C?(r=(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 text-sm",children:C}),N[2]=C,N[3]=r):r=N[3],N[4]!==k?(s=k&&k.length>0&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Syntax Issues:"}),(0,t.jsx)("ul",{className:"list-disc list-inside text-sm text-red-400",children:k.map(j)})]}),N[4]=k,N[5]=s):s=N[5],N[6]!==r||N[7]!==s?(n=(0,t.jsxs)("div",{className:"p-4 space-y-3",children:[e,r,s]}),N[6]=r,N[7]=s,N[8]=n):n=N[8],n}if(!w||0===w.length){let e;return N[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex items-center justify-center h-full p-4 text-muted-foreground",children:(0,t.jsx)("p",{className:"text-sm",children:"Submit your code to see test results"})}),N[9]=e):e=N[9],e}N[10]!==w?(r=w.filter(b),N[10]=w,N[11]=r):r=N[11];let E=r.length,M=w.length,O=E===M;N[12]!==O?(s=O?(0,t.jsx)(u.CheckCircle,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)(m.XCircle,{className:"h-5 w-5 text-red-500"}),N[12]=O,N[13]=s):s=N[13],N[14]!==E||N[15]!==M?(n=(0,t.jsxs)("span",{className:"font-medium",children:[E,"/",M," Tests Passed"]}),N[14]=E,N[15]=M,N[16]=n):n=N[16],N[17]!==s||N[18]!==n?(a=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s,n]}),N[17]=s,N[18]=n,N[19]=a):a=N[19];let A=O?"bg-green-500/10 text-green-500 border-green-500/20":"bg-red-500/10 text-red-500 border-red-500/20",R=O?"All Passed":`${M-E} Failed`;return N[20]!==A||N[21]!==R?(l=(0,t.jsx)(i.Badge,{variant:"outline",className:A,children:R}),N[20]=A,N[21]=R,N[22]=l):l=N[22],N[23]!==a||N[24]!==l?(o=(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[a,l]}),N[23]=a,N[24]=l,N[25]=o):o=N[25],N[26]!==T?(d=T&&(0,t.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3 text-sm",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"Logic Analysis"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:T})]}),N[26]=T,N[27]=d):d=N[27],N[28]!==w?(h=w.map(y),N[28]=w,N[29]=h):h=N[29],N[30]!==h?(x=(0,t.jsx)("div",{className:"space-y-3",children:h}),N[30]=h,N[31]=x):x=N[31],N[32]!==d||N[33]!==x||N[34]!==o?(v=(0,t.jsx)(p.ScrollArea,{className:"h-full",children:(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[o,d,x]})}),N[32]=d,N[33]=x,N[34]=o,N[35]=v):v=N[35],v}function y(e,r){return(0,t.jsxs)("div",{className:`rounded-lg border p-3 text-sm ${e.passed?"border-green-500/20 bg-green-500/5":"border-red-500/20 bg-red-500/5"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.passed?(0,t.jsx)(u.CheckCircle,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(m.XCircle,{className:"h-4 w-4 text-red-500"}),(0,t.jsxs)("span",{className:"font-medium",children:["Test Case ",r+1]})]}),(0,t.jsx)(i.Badge,{variant:"outline",className:e.passed?"bg-green-500/10 text-green-500 border-green-500/20":"bg-red-500/10 text-red-500 border-red-500/20",children:e.passed?"Passed":"Failed"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Input: "}),(0,t.jsx)("code",{className:"bg-muted px-1.5 py-0.5 rounded",children:e.input})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Expected: "}),(0,t.jsx)("code",{className:"bg-muted px-1.5 py-0.5 rounded",children:e.expectedOutput})]}),e.actualOutput&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Output: "}),(0,t.jsx)("code",{className:`px-1.5 py-0.5 rounded ${e.passed?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:e.actualOutput})]}),e.analysis&&(0,t.jsx)("div",{className:"text-muted-foreground mt-1 pt-1 border-t border-border",children:e.analysis})]})]},r)}function b(e){return e.passed}function j(e,r){return(0,t.jsx)("li",{children:e},r)}var v=e.i(21816);let N=(0,h.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),w=(0,h.default)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),S=(0,h.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var C=e.i(58824),k=e.i(83685),T=e.i(95595);function E(e){let r,s,n,a,l,o,d,h,f,g,x,y,b,j,E,R,P,_,L=(0,c.c)(70),{score:I,testResults:$}=e;if(L[0]!==I.codeQuality||L[1]!==I.correctness||L[2]!==I.edgeCases||L[3]!==I.efficiency||L[4]!==I.overallScore||L[5]!==I.passStatus||L[6]!==$){let e,c,g,x,y,b,j,T,E,R=[{name:"Correctness",value:I.correctness,icon:v.Target,weight:"40%",description:"Logic accuracy and test case handling"},{name:"Efficiency",value:I.efficiency,icon:N,weight:"25%",description:"Time and space complexity"},{name:"Code Quality",value:I.codeQuality,icon:w,weight:"20%",description:"Readability and best practices"},{name:"Edge Cases",value:I.edgeCases,icon:S,weight:"15%",description:"Handling boundary conditions"}],P=A;n=p.ScrollArea,f="h-full",d="p-4 space-y-6 pb-24";let _=`border-2 ${I.passStatus?"border-green-500/30 bg-green-500/5":"border-red-500/30 bg-red-500/5"}`;L[16]!==I.passStatus?(e=I.passStatus?(0,t.jsx)(u.CheckCircle,{className:"h-10 w-10 text-green-500"}):(0,t.jsx)(m.XCircle,{className:"h-10 w-10 text-red-500"}),L[16]=I.passStatus,L[17]=e):e=L[17],L[18]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Overall Score"}),L[18]=c):c=L[18];let F=`text-4xl font-bold ${P(I.overallScore)}`;L[19]!==I.overallScore?(g=Math.round(I.overallScore),L[19]=I.overallScore,L[20]=g):g=L[20],L[21]!==F||L[22]!==g?(x=(0,t.jsxs)("div",{children:[c,(0,t.jsxs)("p",{className:F,children:[g,"%"]})]}),L[21]=F,L[22]=g,L[23]=x):x=L[23],L[24]!==x||L[25]!==e?(y=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[e,x]}),L[24]=x,L[25]=e,L[26]=y):y=L[26];let B=`text-lg px-4 py-2 ${I.passStatus?"bg-green-500/10 text-green-500 border-green-500/30":"bg-red-500/10 text-red-500 border-red-500/30"}`,z=I.passStatus?"PASSED":"FAILED";L[27]!==B||L[28]!==z?(b=(0,t.jsx)(i.Badge,{variant:"outline",className:B,children:z}),L[27]=B,L[28]=z,L[29]=b):b=L[29],L[30]!==y||L[31]!==b?(j=(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[y,b]}),L[30]=y,L[31]=b,L[32]=j):j=L[32],L[33]!==$?(T=$&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-border space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Total Test Cases"}),(0,t.jsxs)("span",{className:"font-medium text-foreground",children:[$.passed,"/",$.total," passed"]})]}),(0,t.jsx)(k.Progress,{value:$.passed/$.total*100,className:"h-2"})]}),$.hidden&&$.hidden.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsxs)("span",{className:"text-muted-foreground flex items-center gap-1",children:["Hidden Test Cases",(0,t.jsx)("span",{className:"text-[10px] bg-muted px-1 rounded text-muted-foreground/80",children:"(inc. Edge Cases)"})]}),(0,t.jsxs)("span",{className:"font-medium text-foreground",children:[$.hidden.filter(O).length,"/",$.hidden.length," passed"]})]}),(0,t.jsx)(k.Progress,{value:$.hidden.filter(M).length/$.hidden.length*100,className:"h-1.5 opacity-80"})]})]}),L[33]=$,L[34]=T):T=L[34],L[35]!==j||L[36]!==T?(E=(0,t.jsxs)(C.CardContent,{className:"pt-6",children:[j,T]}),L[35]=j,L[36]=T,L[37]=E):E=L[37],L[38]!==E||L[39]!==_?(h=(0,t.jsx)(C.Card,{className:_,children:E}),L[38]=E,L[39]=_,L[40]=h):h=L[40],s=C.Card,L[41]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(C.CardHeader,{children:(0,t.jsx)(C.CardTitle,{className:"text-lg",children:"Score Breakdown"})}),L[41]=o):o=L[41],r=C.CardContent,a="space-y-4",l=R.map(e=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e.icon,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",e.weight,")"]})]}),(0,t.jsxs)("span",{className:`text-sm font-bold ${P(e.value)}`,children:[Math.round(e.value),"%"]})]}),(0,t.jsx)("div",{className:"relative h-2 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`absolute h-full rounded-full transition-all ${function(e){return e>=80?"bg-green-500":e>=60?"bg-yellow-500":e>=40?"bg-orange-500":"bg-red-500"}(e.value)}`,style:{width:`${e.value}%`}})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]},e.name)),L[0]=I.codeQuality,L[1]=I.correctness,L[2]=I.edgeCases,L[3]=I.efficiency,L[4]=I.overallScore,L[5]=I.passStatus,L[6]=$,L[7]=r,L[8]=s,L[9]=n,L[10]=a,L[11]=l,L[12]=o,L[13]=d,L[14]=h,L[15]=f}else r=L[7],s=L[8],n=L[9],a=L[10],l=L[11],o=L[12],d=L[13],h=L[14],f=L[15];return L[42]!==r||L[43]!==a||L[44]!==l?(g=(0,t.jsx)(r,{className:a,children:l}),L[42]=r,L[43]=a,L[44]=l,L[45]=g):g=L[45],L[46]!==s||L[47]!==o||L[48]!==g?(x=(0,t.jsxs)(s,{children:[o,g]}),L[46]=s,L[47]=o,L[48]=g,L[49]=x):x=L[49],L[50]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsx)(C.CardHeader,{children:(0,t.jsx)(C.CardTitle,{className:"text-lg",children:"Feedback"})}),L[50]=y):y=L[50],L[51]!==I.feedback?(b=(0,t.jsx)("div",{className:"bg-muted/50 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:I.feedback})}),L[51]=I.feedback,L[52]=b):b=L[52],L[53]!==I.complexityAnalysis?(j=I.complexityAnalysis&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.Separator,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Complexity Analysis"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:I.complexityAnalysis})]})]}),L[53]=I.complexityAnalysis,L[54]=j):j=L[54],L[55]!==I.suggestedApproach?(E=I.suggestedApproach&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.Separator,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Suggested Approach"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:I.suggestedApproach})]})]}),L[55]=I.suggestedApproach,L[56]=E):E=L[56],L[57]!==b||L[58]!==j||L[59]!==E?(R=(0,t.jsxs)(C.Card,{children:[y,(0,t.jsxs)(C.CardContent,{className:"space-y-4",children:[b,j,E]})]}),L[57]=b,L[58]=j,L[59]=E,L[60]=R):R=L[60],L[61]!==R||L[62]!==d||L[63]!==h||L[64]!==x?(P=(0,t.jsxs)("div",{className:d,children:[h,x,R]}),L[61]=R,L[62]=d,L[63]=h,L[64]=x,L[65]=P):P=L[65],L[66]!==n||L[67]!==P||L[68]!==f?(_=(0,t.jsx)(n,{className:f,children:P}),L[66]=n,L[67]=P,L[68]=f,L[69]=_):_=L[69],_}function M(e){return e.passed}function O(e){return e.passed}function A(e){return e>=80?"text-green-500":e>=60?"text-yellow-500":e>=40?"text-orange-500":"text-red-500"}var R=e.i(2359),P=e.i(92370);let _=(0,h.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),L=(0,h.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),I=(0,h.default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);function $(e){let r,s,n,l,u,m,h,f,g,p,y,b,j,v,N,w,S,C=(0,c.c)(64),{challenge:k,code:T,onCodeChange:M,language:O,activeTab:A,onTabChange:$,testResults:B,errorMessage:z,syntaxErrors:V,logicAnalysis:D,completionStats:U,isSubmitting:q,isCompleting:H,onReset:G,onRunTests:J,onSubmit:W,readOnly:Q,hideControls:K}=e,X=void 0!==Q&&Q,Y=void 0!==K&&K,Z="completed"===k.status;C[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(R.TabsTrigger,{value:"problem",children:"Problem"}),C[0]=r):r=C[0],C[1]!==B?(s=B&&(0,t.jsxs)(i.Badge,{variant:"secondary",className:"ml-2 text-xs",children:[B.filter(F).length,"/",B.length]}),C[1]=B,C[2]=s):s=C[2],C[3]!==s?(n=(0,t.jsxs)(R.TabsTrigger,{value:"results",children:["Results",s]}),C[3]=s,C[4]=n):n=C[4],C[5]!==k.score||C[6]!==Z?(l=Z&&k.score&&(0,t.jsx)(R.TabsTrigger,{value:"score",children:"Score"}),C[5]=k.score,C[6]=Z,C[7]=l):l=C[7],C[8]!==n||C[9]!==l?(u=(0,t.jsxs)(R.TabsList,{className:"m-2",children:[r,n,l]}),C[8]=n,C[9]=l,C[10]=u):u=C[10],C[11]!==k.category||C[12]!==k.company||C[13]!==k.description||C[14]!==k.difficulty||C[15]!==k.timeLimit||C[16]!==k.title||C[17]!==k.visibleTests?(m=(0,t.jsx)(R.TabsContent,{value:"problem",className:"flex-1 flex flex-col overflow-hidden min-h-0 m-0 data-[state=inactive]:hidden text-left",children:(0,t.jsx)(d.ProblemPanel,{title:k.title,description:k.description,difficulty:k.difficulty,category:k.category,company:k.company,visibleTests:k.visibleTests,timeLimit:k.timeLimit})}),C[11]=k.category,C[12]=k.company,C[13]=k.description,C[14]=k.difficulty,C[15]=k.timeLimit,C[16]=k.title,C[17]=k.visibleTests,C[18]=m):m=C[18],C[19]!==z||C[20]!==q||C[21]!==D||C[22]!==V||C[23]!==B?(h=(0,t.jsx)(R.TabsContent,{value:"results",className:"flex-1 flex flex-col overflow-hidden min-h-0 m-0 data-[state=inactive]:hidden text-left",children:(0,t.jsx)(x,{results:B,isLoading:q,errorMessage:z,syntaxErrors:V,logicAnalysis:D})}),C[19]=z,C[20]=q,C[21]=D,C[22]=V,C[23]=B,C[24]=h):h=C[24],C[25]!==k.score||C[26]!==U||C[27]!==Z?(f=Z&&k.score&&(0,t.jsx)(R.TabsContent,{value:"score",className:"flex-1 flex flex-col overflow-hidden min-h-0 m-0 data-[state=inactive]:hidden text-left",children:(0,t.jsx)(E,{score:k.score,testResults:U||void 0})}),C[25]=k.score,C[26]=U,C[27]=Z,C[28]=f):f=C[28],C[29]!==A||C[30]!==$||C[31]!==f||C[32]!==u||C[33]!==m||C[34]!==h?(g=(0,t.jsx)("div",{className:"w-[45%] border-r border-border flex flex-col",children:(0,t.jsxs)(R.Tabs,{value:A,onValueChange:$,className:"flex-1 flex flex-col min-h-0",children:[u,m,h,f]})}),C[29]=A,C[30]=$,C[31]=f,C[32]=u,C[33]=m,C[34]=h,C[35]=g):g=C[35];let ee=P.SUPPORTED_LANGUAGES[O]?.name||O;return C[36]!==ee?(p=(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:"text-sm font-medium",children:ee})}),C[36]=ee,C[37]=p):p=C[37],C[38]!==Y||C[39]!==Z||C[40]!==H||C[41]!==q||C[42]!==G||C[43]!==J||C[44]!==W||C[45]!==X?(y=!Y&&!X&&!Z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Button,{variant:"ghost",size:"sm",onClick:G,disabled:q,children:[(0,t.jsx)(_,{className:"h-3.5 w-3.5 mr-1"}),"Reset"]}),(0,t.jsxs)(a.Button,{variant:"secondary",size:"sm",onClick:J,disabled:q,children:[(0,t.jsx)(L,{className:"h-3.5 w-3.5 mr-1"}),"Run"]}),(0,t.jsxs)(a.Button,{size:"sm",onClick:W,disabled:H,children:[(0,t.jsx)(I,{className:"h-3.5 w-3.5 mr-1"}),"Submit"]})]}),C[38]=Y,C[39]=Z,C[40]=H,C[41]=q,C[42]=G,C[43]=J,C[44]=W,C[45]=X,C[46]=y):y=C[46],C[47]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsx)("span",{className:"text-xs text-muted-foreground ml-2",children:"Auto-save on"}),C[47]=b):b=C[47],C[48]!==y?(j=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[y,b]}),C[48]=y,C[49]=j):j=C[49],C[50]!==p||C[51]!==j?(v=(0,t.jsxs)("div",{className:"p-2 border-b border-border flex items-center justify-between bg-muted/30",children:[p,j]}),C[50]=p,C[51]=j,C[52]=v):v=C[52],C[53]!==T||C[54]!==O||C[55]!==M||C[56]!==X?(N=(0,t.jsx)("div",{className:"flex-1 relative",children:(0,t.jsx)(o.CodeEditor,{language:O,value:T,onChange:M,readOnly:X})}),C[53]=T,C[54]=O,C[55]=M,C[56]=X,C[57]=N):N=C[57],C[58]!==v||C[59]!==N?(w=(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[v,N]}),C[58]=v,C[59]=N,C[60]=w):w=C[60],C[61]!==g||C[62]!==w?(S=(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden h-full",children:[g,w]}),C[61]=g,C[62]=w,C[63]=S):S=C[63],S}function F(e){return e.passed}function B({initialChallenge:e,hideHeader:c=!1,isTestMode:o=!1}){let d,u,m=(0,s.useRouter)(),[h,f]=(0,r.useState)(e),[g,p]=(0,r.useState)(e.finalCode||e.starterCode||""),[x,y]=(0,r.useState)(e.language),[b,j]=(0,r.useState)(e.remainingTime??null),[v,N]=(0,r.useState)("problem"),[w,S]=(0,r.useState)(null),[C,k]=(0,r.useState)(!1),[T,E]=(0,r.useState)(!1),[M,O]=(0,r.useState)(null),[A,R]=(0,r.useState)([]),[P,_]=(0,r.useState)(),[L,I]=(0,r.useState)(null),F=(0,r.useRef)(null),B=(0,r.useRef)(null),z=(0,r.useRef)(!1),V=(0,r.useRef)(!1);(0,r.useEffect)(()=>{"pending"!==h.status||z.current||(z.current=!0,D())},[]);let D=async()=>{try{let e=await fetch(`/api/coding/challenge/${h.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"start"})});if(!e.ok)throw Error("Failed to start challenge");let t=await e.json();f({...h,status:t.challenge.status,startedAt:t.challenge.startedAt}),j(60*t.challenge.timeLimit*1e3),l.toast.success("Challenge started! Good luck!")}catch{l.toast.error("Failed to start challenge")}};(0,r.useEffect)(()=>{if("in_progress"===h.status)return F.current=setInterval(async()=>{try{await fetch(`/api/coding/challenge/${h.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"save",code:g})})}catch{console.error("Auto-save failed")}},3e4),()=>{F.current&&clearInterval(F.current)}},[h.id,h.status,g]),(0,r.useEffect)(()=>{if(!o&&"in_progress"===h.status&&null!==b)return B.current=setInterval(()=>{j(e=>null===e||e<=1e3?(B.current&&clearInterval(B.current),V.current||(V.current=!0,l.toast.warning("Time's up! Submitting your code..."),U()),0):e-1e3)},1e3),()=>{B.current&&clearInterval(B.current)}},[h.status,h.id,o]);let U=async()=>{E(!0);try{let e=await fetch(`/api/coding/challenge/${h.id}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:g})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to complete challenge");f(e=>({...e,status:"completed",score:t.score})),I(t.testResults),N("score"),t.score.passStatus?l.toast.success("Challenge completed! You passed!"):l.toast.info("Challenge completed. Review your score for feedback.")}catch(e){l.toast.error(e instanceof Error?e.message:"Failed to complete challenge")}finally{E(!1),V.current=!1}},q=async()=>{if(!g.trim())return void l.toast.error("Please write some code first");k(!0),O(null),R([]),N("results");try{let e=await fetch(`/api/coding/challenge/${h.id}/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:g})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to submit");if(t.submission.isValid){S(t.submission.testResults),_(t.submission.logicAnalysis);let e=t.submission.testResults.filter(e=>e.passed).length,r=t.submission.testResults.length;l.toast.success(`${e}/${r} tests passed`)}else O(t.submission.errorMessage),R(t.submission.syntaxErrors||[]),S(null)}catch(e){l.toast.error(e instanceof Error?e.message:"Failed to submit code")}finally{k(!1)}},H=async()=>{E(!0);try{let e=await fetch(`/api/coding/challenge/${h.id}/complete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:g})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to complete challenge");f({...h,status:"completed",score:t.score}),I(t.testResults),N("score"),t.score.passStatus?l.toast.success("Challenge completed! You passed!"):l.toast.info("Challenge completed. Review your score for feedback.")}catch(e){l.toast.error(e instanceof Error?e.message:"Failed to complete challenge")}finally{E(!1)}},G="in_progress"===h.status,J="completed"===h.status;return(0,t.jsxs)("div",{className:`h-screen flex flex-col bg-background ${c?"h-full":""}`,children:[!c&&(0,t.jsxs)("div",{className:"border-b border-border px-4 py-3 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("h1",{className:"font-semibold text-lg truncate max-w-md",children:h.title}),(0,t.jsx)(i.Badge,{variant:"outline",className:"easy"===h.difficulty?"bg-green-500/10 text-green-500":"medium"===h.difficulty?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500",children:h.difficulty})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[G&&null!==b&&(0,t.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${null!==b&&b<3e5?"bg-red-500/10 text-red-500 animate-pulse":"bg-muted"}`,children:[(0,t.jsx)(n.Clock,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"font-mono font-medium",children:(u=Math.floor((d=Math.floor(b/1e3))/60),`${u.toString().padStart(2,"0")}:${(d%60).toString().padStart(2,"0")}`)})]}),"pending"===h.status&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{className:"text-sm",children:"Starting challenge..."})]}),J&&(0,t.jsx)(a.Button,{onClick:()=>m.push("/coding"),children:"New Challenge"})]})]}),(0,t.jsx)($,{challenge:h,code:g,onCodeChange:p,language:x,onLanguageChange:y,activeTab:v,onTabChange:N,testResults:w,errorMessage:M,syntaxErrors:A,logicAnalysis:P,completionStats:L,isSubmitting:C,isCompleting:T||V.current,onReset:()=>{p(h.starterCode||""),l.toast.info("Code reset to starter template")},onRunTests:q,onSubmit:H,readOnly:J})]})}e.s(["CodingChallenge",()=>B],67933)}]);