(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58824,e=>{"use strict";var r=e.i(26969),a=e.i(39431),t=e.i(24435);function s(e){let s,i,n,d,o=(0,a.c)(8);return o[0]!==e?({className:s,...i}=e,o[0]=e,o[1]=s,o[2]=i):(s=o[1],i=o[2]),o[3]!==s?(n=(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),o[3]=s,o[4]=n):n=o[4],o[5]!==i||o[6]!==n?(d=(0,r.jsx)("div",{"data-slot":"card",className:n,...i}),o[5]=i,o[6]=n,o[7]=d):d=o[7],d}function i(e){let s,i,n,d,o=(0,a.c)(8);return o[0]!==e?({className:s,...i}=e,o[0]=e,o[1]=s,o[2]=i):(s=o[1],i=o[2]),o[3]!==s?(n=(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),o[3]=s,o[4]=n):n=o[4],o[5]!==i||o[6]!==n?(d=(0,r.jsx)("div",{"data-slot":"card-header",className:n,...i}),o[5]=i,o[6]=n,o[7]=d):d=o[7],d}function n(e){let s,i,n,d,o=(0,a.c)(8);return o[0]!==e?({className:s,...i}=e,o[0]=e,o[1]=s,o[2]=i):(s=o[1],i=o[2]),o[3]!==s?(n=(0,t.cn)("leading-none font-semibold",s),o[3]=s,o[4]=n):n=o[4],o[5]!==i||o[6]!==n?(d=(0,r.jsx)("div",{"data-slot":"card-title",className:n,...i}),o[5]=i,o[6]=n,o[7]=d):d=o[7],d}function d(e){let s,i,n,d,o=(0,a.c)(8);return o[0]!==e?({className:s,...i}=e,o[0]=e,o[1]=s,o[2]=i):(s=o[1],i=o[2]),o[3]!==s?(n=(0,t.cn)("text-muted-foreground text-sm",s),o[3]=s,o[4]=n):n=o[4],o[5]!==i||o[6]!==n?(d=(0,r.jsx)("div",{"data-slot":"card-description",className:n,...i}),o[5]=i,o[6]=n,o[7]=d):d=o[7],d}function o(e){let s,i,n,d,o=(0,a.c)(8);return o[0]!==e?({className:s,...i}=e,o[0]=e,o[1]=s,o[2]=i):(s=o[1],i=o[2]),o[3]!==s?(n=(0,t.cn)("px-6",s),o[3]=s,o[4]=n):n=o[4],o[5]!==i||o[6]!==n?(d=(0,r.jsx)("div",{"data-slot":"card-content",className:n,...i}),o[5]=i,o[6]=n,o[7]=d):d=o[7],d}function l(e){let s,i,n,d,o=(0,a.c)(8);return o[0]!==e?({className:s,...i}=e,o[0]=e,o[1]=s,o[2]=i):(s=o[1],i=o[2]),o[3]!==s?(n=(0,t.cn)("flex items-center px-6 [.border-t]:pt-6",s),o[3]=s,o[4]=n):n=o[4],o[5]!==i||o[6]!==n?(d=(0,r.jsx)("div",{"data-slot":"card-footer",className:n,...i}),o[5]=i,o[6]=n,o[7]=d):d=o[7],d}e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>d,"CardFooter",()=>l,"CardHeader",()=>i,"CardTitle",()=>n])},15234,e=>{"use strict";var r=e.i(42458);e.i(32266);var a=e.i(54972),t=e.i(26969),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,a.createSlot)(`Primitive.${s}`),n=r.forwardRef((e,r)=>{let{asChild:a,...n}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?i:s,{...n,ref:r})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{});e.s(["Primitive",()=>s])},52494,e=>{"use strict";var r=e.i(26969),a=e.i(39431),t=e.i(54972),s=e.i(96480),i=e.i(24435);let n=(0,s.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let s,d,o,l,c,u,p=(0,a.c)(12);p[0]!==e?({className:s,variant:l,asChild:o,...d}=e,p[0]=e,p[1]=s,p[2]=d,p[3]=o,p[4]=l):(s=p[1],d=p[2],o=p[3],l=p[4]);let m=void 0!==o&&o?t.Slot:"span";return p[5]!==s||p[6]!==l?(c=(0,i.cn)(n({variant:l}),s),p[5]=s,p[6]=l,p[7]=c):c=p[7],p[8]!==m||p[9]!==d||p[10]!==c?(u=(0,r.jsx)(m,{"data-slot":"badge",className:c,...d}),p[8]=m,p[9]=d,p[10]=c,p[11]=u):u=p[11],u}e.s(["Badge",()=>d])},52776,e=>{"use strict";var r=e.i(53899);e.s(["Loader2",()=>r.default])},62195,e=>{"use strict";var r=e.i(26969),a=e.i(39431),t=e.i(24435);function s(e){let s,i,n,d,o,l=(0,a.c)(10);return l[0]!==e?({className:s,type:n,...i}=e,l[0]=e,l[1]=s,l[2]=i,l[3]=n):(s=l[1],i=l[2],n=l[3]),l[4]!==s?(d=(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),l[4]=s,l[5]=d):d=l[5],l[6]!==i||l[7]!==d||l[8]!==n?(o=(0,r.jsx)("input",{type:n,"data-slot":"input",className:d,...i}),l[6]=i,l[7]=d,l[8]=n,l[9]=o):o=l[9],o}e.s(["Input",()=>s])},91375,e=>{"use strict";var r=e.i(26969),a=e.i(39431),t=e.i(42458),s=e.i(15234),i=t.forwardRef((e,a)=>(0,r.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var n=e.i(24435);function d(e){let t,s,d,o,l=(0,a.c)(8);return l[0]!==e?({className:t,...s}=e,l[0]=e,l[1]=t,l[2]=s):(t=l[1],s=l[2]),l[3]!==t?(d=(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),l[3]=t,l[4]=d):d=l[4],l[5]!==s||l[6]!==d?(o=(0,r.jsx)(i,{"data-slot":"label",className:d,...s}),l[5]=s,l[6]=d,l[7]=o):o=l[7],o}e.s(["Label",()=>d],91375)},68818,e=>{"use strict";var r=e.i(26969),a=e.i(39431),t=e.i(24435);function s(e){let s,i,n,d,o=(0,a.c)(8);return o[0]!==e?({className:s,...i}=e,o[0]=e,o[1]=s,o[2]=i):(s=o[1],i=o[2]),o[3]!==s?(n=(0,t.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),o[3]=s,o[4]=n):n=o[4],o[5]!==i||o[6]!==n?(d=(0,r.jsx)("textarea",{"data-slot":"textarea",className:n,...i}),o[5]=i,o[6]=n,o[7]=d):d=o[7],d}e.s(["Textarea",()=>s])},87216,e=>{"use strict";var r=e.i(26969),a=e.i(42458),t=e.i(37212),s=e.i(53727),i=e.i(62195),n=e.i(91375),d=e.i(68818),o=e.i(58824),l=e.i(52494),c=e.i(89352);function u({user:e,profile:u}){let p=(0,t.useRouter)(),[m,x]=(0,a.useState)(!1),[v,h]=(0,a.useState)(e.name||""),[g,f]=(0,a.useState)(u?.bio||""),[b,y]=(0,a.useState)(u?.yearsExperience?.toString()||""),[j,w]=(0,a.useState)(u?.targetRole||""),[C,N]=(0,a.useState)(u?.skills||[]),[S,P]=(0,a.useState)(u?.targetCompanies||[]),[k,T]=(0,a.useState)(""),[F,D]=(0,a.useState)(""),L=async e=>{e.preventDefault(),x(!0);try{if(!(await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,bio:g,yearsExperience:b?parseInt(b):null,targetRole:j,skills:C,targetCompanies:S})})).ok)throw Error("Failed to update profile");c.toast.success("Profile updated successfully"),p.refresh()}catch{c.toast.error("Failed to update profile")}finally{x(!1)}},E=()=>{k.trim()&&!C.includes(k.trim())&&(N([...C,k.trim()]),T(""))},I=()=>{F.trim()&&!S.includes(F.trim())&&(P([...S,F.trim()]),D(""))};return(0,r.jsxs)("form",{onSubmit:L,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(o.Card,{className:"h-fit",children:[(0,r.jsxs)(o.CardHeader,{children:[(0,r.jsx)(o.CardTitle,{children:"Basic Information"}),(0,r.jsx)(o.CardDescription,{children:"Your personal details"})]}),(0,r.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(n.Label,{htmlFor:"email",children:"Email"}),(0,r.jsx)(i.Input,{id:"email",value:e.email,disabled:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(n.Label,{htmlFor:"name",children:"Full Name"}),(0,r.jsx)(i.Input,{id:"name",value:v,onChange:e=>h(e.target.value),placeholder:"Enter your name"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(n.Label,{htmlFor:"bio",children:"Bio"}),(0,r.jsx)(d.Textarea,{id:"bio",value:g,onChange:e=>f(e.target.value),placeholder:"Tell us about yourself...",rows:3})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(n.Label,{htmlFor:"experience",children:"Years of Experience"}),(0,r.jsx)(i.Input,{id:"experience",type:"number",min:"0",max:"50",value:b,onChange:e=>y(e.target.value),placeholder:"e.g., 5"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(n.Label,{htmlFor:"targetRole",children:"Target Role"}),(0,r.jsx)(i.Input,{id:"targetRole",value:j,onChange:e=>w(e.target.value),placeholder:"e.g., Senior Software Engineer"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(o.Card,{children:[(0,r.jsxs)(o.CardHeader,{children:[(0,r.jsx)(o.CardTitle,{children:"Skills"}),(0,r.jsx)(o.CardDescription,{children:"Add your technical skills (e.g., System Design, Distributed Systems)"})]}),(0,r.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(i.Input,{value:k,onChange:e=>T(e.target.value),placeholder:"Add a skill",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),E())}),(0,r.jsx)(s.Button,{type:"button",onClick:E,variant:"secondary",children:"Add"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:C.map(e=>(0,r.jsxs)(l.Badge,{variant:"secondary",className:"cursor-pointer hover:bg-destructive hover:text-destructive-foreground",onClick:()=>{N(C.filter(r=>r!==e))},children:[e," ×"]},e))})]})]}),(0,r.jsxs)(o.Card,{children:[(0,r.jsxs)(o.CardHeader,{children:[(0,r.jsx)(o.CardTitle,{children:"Target Companies"}),(0,r.jsx)(o.CardDescription,{children:"Companies you're preparing to interview at"})]}),(0,r.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(i.Input,{value:F,onChange:e=>D(e.target.value),placeholder:"Add a company",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),I())}),(0,r.jsx)(s.Button,{type:"button",onClick:I,variant:"secondary",children:"Add"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:S.map(e=>(0,r.jsxs)(l.Badge,{variant:"outline",className:"cursor-pointer hover:bg-destructive hover:text-destructive-foreground",onClick:()=>{P(S.filter(r=>r!==e))},children:[e," ×"]},e))})]})]})]})]}),(0,r.jsx)(s.Button,{type:"submit",className:"w-full",disabled:m,children:m?"Saving...":"Save Changes"})]})}e.s(["ProfileForm",()=>u])},82795,e=>{"use strict";var r=e.i(26969),a=e.i(42458),t=e.i(53727),s=e.i(62195),i=e.i(91375),n=e.i(58824),d=e.i(89352),o=e.i(52776);function l(){let[e,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),[x,v]=(0,a.useState)(""),h=async e=>{if(e.preventDefault(),l(!0),p!==x){d.toast.error("New passwords do not match"),l(!1);return}try{let e=await fetch("/api/profile/password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:c,newPassword:p})}),r=await e.json();if(!e.ok)throw Error(r.error||"Failed to update password");d.toast.success("Password updated successfully"),u(""),m(""),v("")}catch(e){e instanceof Error?d.toast.error(e.message):d.toast.error("Failed to update password")}finally{l(!1)}};return(0,r.jsx)("form",{onSubmit:h,className:"space-y-6 mt-6",children:(0,r.jsxs)(n.Card,{children:[(0,r.jsxs)(n.CardHeader,{children:[(0,r.jsx)(n.CardTitle,{children:"Security"}),(0,r.jsx)(n.CardDescription,{children:"Update your password to keep your account secure"})]}),(0,r.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.Label,{htmlFor:"currentPassword",children:"Current Password"}),(0,r.jsx)(s.Input,{id:"currentPassword",type:"password",value:c,onChange:e=>u(e.target.value),placeholder:"Enter your current password",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.Label,{htmlFor:"newPassword",children:"New Password"}),(0,r.jsx)(s.Input,{id:"newPassword",type:"password",value:p,onChange:e=>m(e.target.value),placeholder:"Enter your new password (min. 6 characters)",required:!0,minLength:6})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.Label,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,r.jsx)(s.Input,{id:"confirmPassword",type:"password",value:x,onChange:e=>v(e.target.value),placeholder:"Confirm your new password",required:!0,minLength:6})]})]}),(0,r.jsx)("div",{className:"p-6 pt-0",children:(0,r.jsx)(t.Button,{type:"submit",className:"w-full",disabled:e,children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Password"})})]})})}e.s(["PasswordForm",()=>l])}]);